/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jul 18 13:55
*/
KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(x,k,r,t){x=k("./base/api");k("./base/attr");k("./base/class");k("./base/create");k("./base/data");k("./base/insertion");k("./base/offset");k("./base/style");k("./base/selector");k("./base/traversal");t.exports=x});
KISSY.add("dom/base/api",["util","ua"],function(x,k,r,t){var m=k("util"),e=window,j=e.document,l=k("ua"),d={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},h=t.exports={isCustomDomain:function(a){var a=a||e,a=h.get(a),g=a.document.domain,a=a.location.hostname;return g!==a&&g!=="["+a+"]"},getEmptyIframeSrc:function(a){a=
a||e;a=h.get(a);return l.ie&&h.isCustomDomain(a)?"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+a.document.domain+'";document.close();')+"}())":""},NodeType:d,getWindow:function(a){if(!a)return e;a=h.get(a);if(m.isWindow(a))return a;var g=a;g.nodeType!==d.DOCUMENT_NODE&&(g=a.ownerDocument);return g.defaultView||g.parentWindow},getDocument:function(a){if(!a)return j;a=h.get(a);return m.isWindow(a)?a.document:a.nodeType===d.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&
!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var e=h.get(a),a=e.nodeName.toLowerCase();l.ie&&(e=e.scopeName)&&"HTML"!==e&&(a=e.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")}});
KISSY.add("dom/base/attr",["util","./api"],function(x,k){function r(a){return null==a?"":a+""}function t(a,c){var c=b[c]||c,e=v[c];return e&&e.get?e.get(a,c):a[c]}var m=k("util"),e=k("./api"),j=document,l=e.NodeType,j=j&&j.documentElement,d=e.nodeName,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,a=/^(?:button|input|object|select|textarea)$/i,g=/^a(?:rea)?$/i,n=/:|^on/,f=/\r/g,c={},o={val:1,css:1,html:1,text:1,data:1,
width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},y={tabindex:{get:function(c){var b=c.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):a.test(c.nodeName)||g.test(c.nodeName)&&c.href?0:void 0}}},b={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
i={get:function(a,c){return e.prop(a,c)?c.toLowerCase():void 0},set:function(a,c,f){!1===c?e.removeAttr(a,f):(c=b[f]||f,c in a&&(a[c]=!0),a.setAttribute(f,f.toLowerCase()));return f}},v={},s={},w={select:{get:function(a){var c=a.selectedIndex,b=a.options,f;if(0>c)return null;if("select-one"===""+a.type)return e.val(b[c]);a=[];c=0;for(f=b.length;c<f;++c)b[c].selected&&a.push(e.val(b[c]));return a},set:function(a,c){var b=m.makeArray(c);m.each(a.options,function(a){a.selected=m.inArray(e.val(a),b)});
b.length||(a.selectedIndex=-1);return b}}};m.each(["radio","checkbox"],function(a){w[a]={get:function(a){return null===a.getAttribute("value")?"on":a.value},set:function(a,c){if(m.isArray(c))return a.checked=m.inArray(e.val(a),c),1}}});y.style={get:function(a){return a.style.cssText}};m.mix(e,{_valHooks:w,_propFix:b,_attrHooks:y,_propHooks:v,_attrNodeHook:s,_attrFix:c,prop:function(a,c,f){var i=e.query(a),g,d;if("object"===typeof c)m.each(c,function(a,c){e.prop(i,c,a)});else if(c=b[c]||c,d=v[c],void 0!==
f)for(a=i.length-1;0<=a;a--)g=i[a],d&&d.set?d.set(g,f,c):g[c]=f;else if(i.length)return t(i[0],c)},hasProp:function(a,c){var b=e.query(a),f,i=b.length,g;for(f=0;f<i;f++)if(g=b[f],void 0!==t(g,c))return!0;return!1},removeProp:function(a,c){var c=b[c]||c,f=e.query(a),i,g;for(i=f.length-1;0<=i;i--){g=f[i];try{g[c]=void 0,delete g[c]}catch(d){}}},attr:function(a,b,f,g){var j=e.query(a),v=j[0];if("object"===typeof b){var g=f,p;for(p in b)e.attr(j,p,b[p],g)}else{if(g&&o[b])return e[b](a,f);b=b.toLowerCase();
if(g&&o[b])return e[b](a,f);b=c[b]||b;a=h.test(b)?i:n.test(b)?s:y[b];if(void 0===f){if(v&&v.nodeType===l.ELEMENT_NODE){"form"===d(v)&&(a=s);if(a&&a.get)return a.get(v,b);f=v.getAttribute(b);return""===f&&(b=v.getAttributeNode(b),!b||!b.specified)?void 0:null===f?void 0:f}}else for(g=j.length-1;0<=g;g--)if((v=j[g])&&v.nodeType===l.ELEMENT_NODE)"form"===d(v)&&(a=s),a&&a.set?a.set(v,f,b):v.setAttribute(b,""+f)}},removeAttr:function(a,f){var f=f.toLowerCase(),f=c[f]||f,i=e.query(a),g,d,o;for(o=i.length-
1;0<=o;o--)if(d=i[o],d.nodeType===l.ELEMENT_NODE&&(d.removeAttribute(f),h.test(f)&&(g=b[f]||f)in d))d[g]=!1},hasAttr:j&&!j.hasAttribute?function(a,c){var c=c.toLowerCase(),b=e.query(a),f,i;for(f=0;f<b.length;f++)if(i=b[f],(i=i.getAttributeNode(c))&&i.specified)return!0;return!1}:function(a,c){var b=e.query(a),f,i=b.length;for(f=0;f<i;f++)if(b[f].hasAttribute(c))return!0;return!1},val:function(a,c){var b,i,g,o,p;if(void 0===c){if(g=e.get(a)){if((b=w[d(g)]||w[g.type])&&"get"in b&&void 0!==(i=b.get(g,
"value")))return i;i=g.value;return"string"===typeof i?i.replace(f,""):null==i?"":i}}else{i=e.query(a);for(o=i.length-1;0<=o;o--){g=i[o];if(1!==g.nodeType)break;p=c;null==p?p="":"number"===typeof p?p+="":m.isArray(p)&&(p=m.map(p,r));b=w[d(g)]||w[g.type];if(!(b&&"set"in b)||void 0===b.set(g,p,"value"))g.value=p}}},text:function(a,c){var b,f,i,g;if(void 0===c)return b=e.get(a),e._getText(b);f=e.query(a);for(i=f.length-1;0<=i;i--)if(b=f[i],g=b.nodeType,g===l.ELEMENT_NODE)e.cleanData(b.getElementsByTagName("*")),
"textContent"in b?b.textContent=c:b.innerText=c;else if(g===l.TEXT_NODE||g===l.CDATA_SECTION_NODE)b.nodeValue=c},_getText:function(a){return a.textContent}})});
KISSY.add("dom/base/class",["./api","util"],function(x,k){function r(a){for(var a=j.trim(a||""),a=a.split(h),g=[],e,f=a.length,c=0;c<f;c++)(e=a[c])&&g.push(e);return g}function t(a){return function(g,e){var f,c,d,h=g.classList,b=l.call(arguments,2);f=0;for(c=e.length;f<c;f++)(d=e[f])&&h[a].apply(h,[d].concat(b))}}function m(a){return function(g,h){var f=r(h),c=l.call(arguments,2);e.query(g).each(function(g){g.nodeType===d.ELEMENT_NODE&&e[a].apply(e,[g,f].concat(c))})}}var e=k("./api"),j=k("util"),
l=[].slice,d=e.NodeType,h=/[\.\s]\s*\.?/;j.mix(e,{_hasClass:function(a,g){var e,f,c,d=a.classList;if(d.length){e=0;for(f=g.length;e<f;e++)if((c=g[e])&&!d.contains(c))return!1;return!0}return!1},_addClass:t("add"),_removeClass:t("remove"),_toggleClass:t("toggle"),hasClass:function(a,g){var h=!1,g=r(g);e.query(a).each(function(a){if(a.nodeType===d.ELEMENT_NODE&&e._hasClass(a,g))return h=!0,!1});return h},replaceClass:function(a,g,d){e.removeClass(a,g);e.addClass(a,d)},addClass:m("_addClass"),removeClass:m("_removeClass"),
toggleClass:m("_toggleClass")})});
KISSY.add("dom/base/create",["util","logger-manager","./api","ua"],function(x,k,r,t){function m(a,b){var f=a&&a!==n?a.createElement(c):o;b&&f===o&&(f.innerHTML="");return f}function e(a,b){var c=m(b);c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function j(a,b){if(b)if(s&&b.canHaveChildren&&"removeNode"in a){if(a.firstChild)a:{try{a.innerHTML="";break a}catch(c){}for(var f;f=a.lastChild;)j(f,a)}a.removeNode(!1)}else b.removeChild(a)}function l(a,b,c){var i=b.nodeType;if(i===f.DOCUMENT_FRAGMENT_NODE){b=
b.childNodes;c=c.childNodes;for(i=0;b[i];)c[i]&&l(a,b[i],c[i]),i++}else if(i===f.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(i=0;b[i];)c[i]&&a(b[i],c[i]),i++}}function d(a,b){var c=t.require("event/dom"),i,e;if(b.nodeType!==f.ELEMENT_NODE||g.hasData(a)){i=g.data(a);for(e in i)g.data(b,e,i[e]);c&&c.clone(a,b)}}function h(b){var c=null,f,i;if(b&&(b.push||b.item)&&b[0]){c=b[0].ownerDocument;c=c.createDocumentFragment();b=a.makeArray(b);f=0;for(i=b.length;f<i;f++)c.appendChild(b[f])}return c}
var a=k("util");k("logger-manager");var g=k("./api"),n=document,f=g.NodeType,x=k("ua").ieMode,c="div",o=n&&n.createElement(c),y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,b=/<([\w:]+)/,i=/^\s+/,v=/\s+$/,s=!!(x&&9>x),w=s,H=/<|&#?\w+;/,C=n&&"outerHTML"in n.documentElement,I=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,F=g._creators={div:e},u={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},
B;for(B in u)(function(b){F[B]=function(c,f){return g.create(a.substitute("<{tag}>{html}</{tag}>",{tag:b,html:c}),void 0,f)}})(u[B]);F.option=F.optgroup=function(a,b){return g.create('<select multiple="multiple">'+a+"</select>",void 0,b)};u.option=u.optgroup=1;a.mix(g,{create:function(d,q,D,o){var A=null;if(!d)return A;if(d.nodeType)return g.clone(d);if("string"!==typeof d)return A;void 0===o&&(o=!0);o&&(d=a.trim(d));var o=g._creators,j,z,D=D||n,J,L=c;if(H.test(d))if(J=I.exec(d))A=D.createElement(J[1]);
else{d=d.replace(y,"<$1></$2>");if((J=b.exec(d))&&(j=J[1]))L=j.toLowerCase();j=(o[L]||e)(d,D);w&&(z=d.match(i))&&j.insertBefore(D.createTextNode(z[0]),j.firstChild);w&&/\S/.test(d)&&(z=d.match(v))&&j.appendChild(D.createTextNode(z[0]));d=j.childNodes;1===d.length?A=d[0].parentNode.removeChild(d[0]):d.length&&(A=h(d))}else A=D.createTextNode(d);q&&(d=A.nodeType,d===f.ELEMENT_NODE?g.attr(A,q,!0):d===f.DOCUMENT_FRAGMENT_NODE&&g.attr(A.childNodes,q,!0));return q=A},_fixCloneAttributes:function(a,b){var c=
a.nodeName.toLowerCase(),f=(a.type||"").toLowerCase();if("textarea"===c)b.defaultValue=a.defaultValue,b.value=a.value;else if("input"===c&&("checkbox"===f||"radio"===f)){if(c=a.checked)b.defaultChecked=b.checked=c;c=a.value;b.value!==c&&(b.value=c)}},_defaultCreator:e,html:function(a,c,e){var a=g.query(a),d=a[0],o=!1,h,z;if(!d)return null;if(void 0===c)return d.nodeType===f.ELEMENT_NODE?d.innerHTML:d.nodeType===f.DOCUMENT_FRAGMENT_NODE?(e=m(d.ownerDocument,1),e.appendChild(d),e.innerHTML):null;c+=
"";if(!c.match(/<(?:script|style|link)/i)&&(!w||!c.match(i))&&!u[(c.match(b)||["",""])[1].toLowerCase()])try{for(h=a.length-1;0<=h;h--)z=a[h],z.nodeType===f.ELEMENT_NODE&&(g.cleanData(z.getElementsByTagName("*")),z.innerHTML=c);o=!0}catch(J){}o||(c=g.create(c,0,d.ownerDocument,0),g.empty(a),g.append(c,a,e))},outerHtml:function(a,b,c){var a=g.query(a),i=a.length,e=a[0];if(!e)return null;if(void 0===b){if(C&&e.nodeType!==f.DOCUMENT_FRAGMENT_NODE)return e.outerHTML;b=m(e.ownerDocument,1);b.appendChild(g.clone(e,
!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&C)for(c=i-1;0<=c;c--)e=a[c],e.nodeType===f.ELEMENT_NODE&&(g.cleanData(e,1),e.outerHTML=b);else b=g.create(b,0,e.ownerDocument,0),g.insertBefore(b,a,c),g.remove(a)},remove:function(b,c){var i,e=g.query(b),d,h=t.require("event/dom"),z;for(z=e.length-1;0<=z;z--)i=e[z],!c&&i.nodeType===f.ELEMENT_NODE&&(d=a.makeArray(i.getElementsByTagName("*")),d.push(i),g.removeData(d),h&&h.detach(d)),j(i,i.parentNode)},clone:function(a,b,c,i){"object"===
typeof b&&(i=b.deepWithDataAndEvent,c=b.withDataAndEvent,b=b.deep);var a=g.get(a),e,h=g._fixCloneAttributes,z;if(!a)return null;z=a.nodeType;e=a.cloneNode(b);if(z===f.ELEMENT_NODE||z===f.DOCUMENT_FRAGMENT_NODE)h&&z===f.ELEMENT_NODE&&h(a,e),b&&h&&l(h,a,e);c&&(d(a,e),b&&i&&l(d,a,e));return e},empty:function(a){var a=g.query(a),b,c;for(c=a.length-1;0<=c;c--)b=a[c],g.remove(b.childNodes)},_nodeListToFragment:h});g.outerHTML=g.outerHtml});
KISSY.add("dom/base/data",["util","./api"],function(x,k,r,t){var m=k("util"),e=k("./api"),j=window,l="_ks_data_"+m.now(),d={},h={},a={applet:1,object:1,embed:1},g={hasData:function(a,f){if(a)if(void 0!==f){if(f in a)return!0}else if(!m.isEmptyObject(a))return!0;return!1}},n={hasData:function(a,f){return a==j?n.hasData(h,f):g.hasData(a[l],f)},data:function(a,f,e){if(a==j)return n.data(h,f,e);var b=a[l];if(void 0!==e)b=a[l]=a[l]||{},b[f]=e;else return void 0!==f?b&&b[f]:b=a[l]=a[l]||{}},removeData:function(a,
f){if(a==j)return n.removeData(h,f);var e=a[l];if(void 0!==f)delete e[f],m.isEmptyObject(e)&&n.removeData(a);else try{delete a[l]}catch(b){a[l]=void 0}}},f={hasData:function(a,f){var e=a[l];return!e?!1:g.hasData(d[e],f)},data:function(c,f,e){if(!a[c.nodeName.toLowerCase()]){var b=c[l];if(!b){if(void 0!==f&&void 0===e)return;b=c[l]=m.guid()}c=d[b];if(void 0!==e)c=d[b]=d[b]||{},c[f]=e;else return void 0!==f?c&&c[f]:c=d[b]=d[b]||{}}},removeData:function(a,e){var g=a[l],b;if(g)if(b=d[g],void 0!==e)delete b[e],
m.isEmptyObject(b)&&f.removeData(a);else{delete d[g];try{delete a[l]}catch(i){a[l]=void 0}a.removeAttribute&&a.removeAttribute(l)}}};m.mix(e,{__EXPANDO:l,hasData:function(a,d){for(var g=!1,b=e.query(a),i=0;i<b.length&&!(g=b[i],g=g.nodeType?f.hasData(g,d):n.hasData(g,d));i++);return g},data:function(a,d,g){var a=e.query(a),b=a[0];if("object"===typeof d)for(var i in d)e.data(a,i,d[i]);else if(void 0===g){if(b)return b.nodeType?f.data(b,d):n.data(b,d)}else for(i=a.length-1;0<=i;i--)b=a[i],b.nodeType?
f.data(b,d,g):n.data(b,d,g)},removeData:function(a,d){var g=e.query(a),b,i;for(i=g.length-1;0<=i;i--)b=g[i],b.nodeType?f.removeData(b,d):n.removeData(b,d)},cleanData:function(a,d){var g=e.query(a),b,i,h=t.require("event/dom");for(i=g.length-1;0<=i;i--)if(b=g[i],b.nodeType){var j=d&&m.makeArray(b.getElementsByTagName("*"))||[];j.push(b);b=0;for(var w=j.length;b<w;b++)f.removeData(j[b]);h&&h.detach(j)}else n.removeData(b)}})});
KISSY.add("dom/base/insertion",["util","./api"],function(x,k){function r(f,c){var e=[],j,b,i;for(j=0;f[j];j++)if(b=f[j],i=h(b),b.nodeType===l.DOCUMENT_FRAGMENT_NODE)e.push.apply(e,r(a(b.childNodes),c));else if("script"===i&&(!b.type||n.test(b.type)))b.parentNode&&b.parentNode.removeChild(b),c&&c.push(b);else{if(b.nodeType===l.ELEMENT_NODE&&!d.test(i)){i=[];var v,s,w=b.getElementsByTagName("script");for(s=0;s<w.length;s++)v=w[s],(!v.type||n.test(v.type))&&i.push(v);g.apply(f,[j+1,0].concat(i))}e.push(b)}return e}
function t(a){a.src?k.load(a.src):(a=e.trim(a.text||a.textContent||a.innerHTML||""))&&e.globalEval(a)}function m(a,c,d,g){a=j.query(a);g&&(g=[]);a=r(a,g);j._fixInsertionChecked&&j._fixInsertionChecked(a);var c=j.query(c),b,i,h,s,w=c.length;if((a.length||g&&g.length)&&w){a=j._nodeListToFragment(a);1<w&&(s=j.clone(a,!0),c=e.makeArray(c));for(b=0;b<w;b++)i=c[b],a&&(h=0<b?j.clone(s,!0):a,d(h,i)),g&&g.length&&e.each(g,t)}}var e=k("util"),j=k("./api"),l=j.NodeType,d=/^(?:button|input|object|select|textarea)$/i,
h=j.nodeName,a=e.makeArray,g=[].splice,n=/\/(java|ecma)script/i;e.mix(j,{_fixInsertionChecked:null,insertBefore:function(a,c,e){m(a,c,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},e)},insertAfter:function(a,c,e){m(a,c,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},e)},appendTo:function(a,c,e){m(a,c,function(a,b){b.appendChild(a)},e)},prependTo:function(a,c,e){m(a,c,function(a,b){b.insertBefore(a,b.firstChild)},e)},wrapAll:function(a,c){c=j.clone(j.get(c),!0);
a=j.query(a);a[0].parentNode&&j.insertBefore(c,a[0]);for(var e;(e=c.firstChild)&&1===e.nodeType;)c=e;j.appendTo(a,c)},wrap:function(a,c){a=j.query(a);c=j.get(c);e.each(a,function(a){j.wrapAll(a,c)})},wrapInner:function(a,c){a=j.query(a);c=j.get(c);e.each(a,function(a){var e=a.childNodes;e.length?j.wrapAll(e,c):a.appendChild(c)})},unwrap:function(a){a=j.query(a);e.each(a,function(a){a=a.parentNode;j.replaceWith(a,a.childNodes)})},replaceWith:function(a,c){var e=j.query(a),c=j.query(c);j.remove(c,!0);
j.insertBefore(c,e);j.remove(e)}});e.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,c){j[c]=j[a]})});
KISSY.add("dom/base/offset",["util","./api","ua"],function(x,k){function r(b){var e,g=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};e=b.getBoundingClientRect();b=e[f];e=e[c];b-=a.clientLeft||g.clientLeft||0;e-=a.clientTop||g.clientTop||0;return{left:b,top:e}}function t(a,c){var d={left:0,top:0},f=g(a),h,j=a,c=c||f;do{if(f==c){var l=j;h=r(l);l=g(l);h.left+=e[o](l);h.top+=e[y](l)}else h=r(j);d.left+=h.left;d.top+=h.top}while(f&&f!=c&&(j=f.frameElement)&&(f=f.parent));return d}
var m=k("util"),e=k("./api"),j=window,l=k("ua"),d=j.document,h=e.NodeType,a=d&&d.documentElement,g=e.getWindow,n=Math.max,f="left",c="top",o="scrollLeft",y="scrollTop";m.mix(e,{offset:function(a,c,d){if(void 0===c){var a=e.get(a),g;a&&(g=t(a,d));return g}d=e.query(a);for(g=d.length-1;0<=g;g--){var a=d[g],f=c;"static"===e.css(a,"position")&&(a.style.position="relative");var h=t(a),j={},l=void 0,m=void 0;for(m in f)l=parseFloat(e.css(a,m))||0,j[m]=l+f[m]-h[m];e.css(a,j)}},scrollIntoView:function(a,
d,j,l){var n,k,o,t;if(o=e.get(a)){d&&(d=e.get(d));d||(d=o.ownerDocument);d.nodeType===h.DOCUMENT_NODE&&(d=g(d));"object"===typeof j&&(l=j.allowHorizontalScroll,t=j.onlyScrollIfNeeded,j=j.alignWithTop);l=void 0===l?!0:l;k=m.isWindow(d);var a=e.offset(o),r=e.outerHeight(o);n=e.outerWidth(o);var u,y,p,q;k?(k=d,u=e.height(k),y=e.width(k),q={left:e.scrollLeft(k),top:e.scrollTop(k)},k=a[f]-q[f],o=a[c]-q[c],n=a[f]+n-(q[f]+y),a=a[c]+r-(q[c]+u)):(u=e.offset(d),y=d.clientHeight,p=d.clientWidth,q={left:e.scrollLeft(d),
top:e.scrollTop(d)},k=a[f]-(u[f]+(parseFloat(e.css(d,"borderLeftWidth"))||0)),o=a[c]-(u[c]+(parseFloat(e.css(d,"borderTopWidth"))||0)),n=a[f]+n-(u[f]+p+(parseFloat(e.css(d,"borderRightWidth"))||0)),a=a[c]+r-(u[c]+y+(parseFloat(e.css(d,"borderBottomWidth"))||0)));if(t){if(0>o||0<a)!0===j?e.scrollTop(d,q.top+o):!1===j?e.scrollTop(d,q.top+a):0>o?e.scrollTop(d,q.top+o):e.scrollTop(d,q.top+a)}else(j=void 0===j?!0:!!j)?e.scrollTop(d,q.top+o):e.scrollTop(d,q.top+a);if(l)if(t){if(0>k||0<n)!0===j?e.scrollLeft(d,
q.left+k):!1===j?e.scrollLeft(d,q.left+n):0>k?e.scrollLeft(d,q.left+k):e.scrollLeft(d,q.left+n)}else void 0===j||j?e.scrollLeft(d,q.left+k):e.scrollLeft(d,q.left+n)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});m.each(["Left","Top"],function(a,c){var d="scroll"+a;e[d]=function(f,l){if("number"===typeof f)return arguments.callee(j,f);var f=e.get(f),k,n,m,o;f&&f.nodeType===h.ELEMENT_NODE?void 0!==l?f[d]=parseFloat(l):k=f[d]:(o=g(f),void 0!==l?(l=parseFloat(l),
n="Left"===a?l:e.scrollLeft(o),m="Top"===a?l:e.scrollTop(o),o.scrollTo(n,m)):(k=o["page"+(c?"Y":"X")+"Offset"],"number"!==typeof k&&(n=o.document,k=n.documentElement[d],"number"!==typeof k&&(k=n.body[d]))));return k}});m.each(["Width","Height"],function(a){e["doc"+a]=function(c){c=e.get(c);c=e.getDocument(c);return n(c.documentElement["scroll"+a],c.body["scroll"+a],e["viewport"+a](c))};e["viewport"+a]=function(c){var c=e.get(c),d=g(c),c=d["inner"+a];if(l.mobile&&c)return c;var c="client"+a,d=d.document,
f=d.body,h=d.documentElement[c];return"CSS1Compat"===d.compatMode&&h||f&&f[c]||h}})});
KISSY.add("dom/base/style",["util","logger-manager","./api","feature","ua"],function(x,k){function r(a){if(B[a])return B[a];var c=n(a);return c&&c.propertyName||a}function t(a,c,b){var d={},e=a.style,f;for(f in c)d[f]=e[f],e[f]=c[f];b.call(a);for(f in c)e[f]=d[f]}function m(a,c,b,d){var e,f;if(e=a.style)if(c=d?c:K(c),d=u[c],c=r(c),void 0!==b){null===b||b===C?b=C:!isNaN(Number(b))&&!H[c]&&(b+=I);d&&d.set&&(b=d.set(a,b));if(void 0!==b){try{e[c]=b}catch(g){}b===C&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||
a.removeAttribute("style")}else{if(!d||!("get"in d&&void 0!==(f=d.get(a,!1))))f=e[c];return void 0===f?"":f}}function e(a){var c,b=arguments;0!==a.offsetWidth?c=d.apply(void 0,b):t(a,A,function(){c=d.apply(void 0,b)});return c}function j(c,b,d,e){var f=0,g,h,j;for(h=0;h<b.length;h++)if(g=b[h])for(j=0;j<d.length;j++)f+=parseFloat(a._getComputedStyle(c,"border"===g?g+d[j]+"Width":g+d[j],e))||0;return f}function l(a){var c=a.ownerDocument,b;c.defaultView&&(b=c.defaultView.getComputedStyle(a,null));return b}
function d(b,d,e){if(h.isWindow(b))return d===s?a.viewportWidth(b):a.viewportHeight(b);if(9===b.nodeType)return d===s?a.docWidth(b):a.docHeight(b);var g=d===s?["Left","Right"]:["Top","Bottom"],i=d===s?b.offsetWidth:b.offsetHeight,q=l(b),k="border-box"===a._getComputedStyle(b,"boxSizing",q),n=0;if(null==i||0>=i){i=void 0;n=a._getComputedStyle(b,d,q);if(null==n||0>Number(n))n=b.style[d]||0;n=parseFloat(n)||0}void 0===e&&(e=k?y:c);d=void 0!==i||k;i=i||n;return e===c?d?i-j(b,["border","padding"],g,q):
n:d?i+(e===y?0:e===o?-j(b,["border"],g,q):j(b,["margin"],g,q)):n+j(b,f.slice(e),g,q)}var h=k("util");k("logger-manager");var a=k("./api"),g=window,n=k("feature").getCssVendorInfo;k("ua");var f=["margin","border","padding"],c=-1,o=2,y=1,b=a.nodeName,i=g.document||{},v=/^margin/,s="width",w="display"+h.now(),H={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},C="",I="px",F=/\d(?!px)[a-z%]+$/i,u={},B={},p={},q=n("userSelect"),D=q&&q.propertyName,K=h.camelCase;B["float"]=
"cssFloat";h.mix(a,{_cssHooks:u,_cssProps:B,_getComputedStyle:function(c,b,d){var e="",f,g;f=c.ownerDocument;b=r(b);if(d=d||f.defaultView.getComputedStyle(c,null))e=d.getPropertyValue(b)||d[b];""===e&&!a.contains(f,c)&&(e=c.style[b]);a._RE_NUM_NO_PX.test(e)&&v.test(b)&&(g=c.style,c=g.width,b=g.minWidth,f=g.maxWidth,g.minWidth=g.maxWidth=g.width=e,e=d.width,g.width=c,g.minWidth=b,g.maxWidth=f);return e},style:function(b,c,d){var b=a.query(b),e,f=b[0];if("object"===typeof c)for(e in c){e=K(e);for(f=
b.length-1;0<=f;f--)m(b[f],e,c[e],1)}else{c=K(c);if(void 0===d)return e="",f&&(e=m(f,c,d,1)),e;for(f=b.length-1;0<=f;f--)m(b[f],c,d,1)}},css:function(b,c,d){var b=a.query(b),e=b[0],f;if("object"===typeof c)for(f in c)for(e=b.length-1;0<=e;e--)m(b[e],f,c[f]);else{c=K(c);f=u[c];if(void 0===d){d="";if(e&&(!f||!("get"in f&&void 0!==(d=f.get(e,!0)))))d=a._getComputedStyle(e,c);return"undefined"===typeof d?"":d}for(e=b.length-1;0<=e;e--)m(b[e],c,d,1)}},show:function(c){var c=a.query(c),b,e,d;for(d=c.length-
1;0<=d;d--)if(e=c[d],e.style.display=a.data(e,w)||C,"none"===a.css(e,"display")){b=e.tagName.toLowerCase();var f=void 0,g=p[b],h=void 0;p[b]||(f=i.body||i.documentElement,h=i.createElement(b),a.prepend(h,f),g=a.css(h,"display"),f.removeChild(h),p[b]=g);b=g;a.data(e,w,b);e.style.display=b}},hide:function(b){var b=a.query(b),c,e;for(e=b.length-1;0<=e;e--){c=b[e];var d=c.style,f=d.display;"none"!==f&&(f&&a.data(c,w,f),d.display="none")}},toggle:function(b){var b=a.query(b),c,e;for(e=b.length-1;0<=e;e--)c=
b[e],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,e){"string"===typeof b&&(e=c,c=b,b=g);var b=a.getDocument(b),d;if(e&&(e=e.replace("#",C)))d=a.get("#"+e,b);d||(d=a.create("<style>",{id:e},b),a.get("head",b).appendChild(d),d.styleSheet?d.styleSheet.cssText=c:d.appendChild(b.createTextNode(c)))},unselectable:D?function(b){for(var b=a.query(b),c=b.length-1;0<=c;c--)b[c].style[D]="none"}:function(c){var c=a.query(c),e,d,f=0,g,i;g=["iframe","textarea","input","select"];
for(d=c.length-1;0<=d;d--){e=c[d];i=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=i[f++];)h.inArray(b(e),g)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});h.each([s,"height"],function(b){a["inner"+h.ucfirst(b)]=function(c){return(c=a.get(c))&&e(c,b,o)};a["outer"+h.ucfirst(b)]=function(c,d){var f=a.get(c);return f&&e(f,b,d?0:y)};var d=b===s?["Left","Right"]:["Top","Bottom"];a[b]=function(f,g){var h=a.get(f);if(void 0!==
g){if(h){var i=l(h);"border-box"===a._getComputedStyle(h,"boxSizing",i)&&(g+=j(h,["padding","border"],d,i));return a.css(h,b,g)}}else return h&&e(h,b,c)};u[b]={get:function(a,c){var d;c&&(d=e(a,b)+"px");return d}}});var A={position:"absolute",visibility:"hidden",display:"block"};h.each(["left","top"],function(b){u[b]={get:function(c,e){var d,f,g;if(e){g=a.css(c,"position");if("static"===g)return"auto";d=a._getComputedStyle(c,b);if((f="auto"===d)&&"relative"===g)return"0px";if(f||F.test(d)){g={top:0,
left:0};if("fixed"===a.css(c,"position"))f=c.getBoundingClientRect();else{for(d=c.offsetParent||(c.ownerDocument||i).body;d&&!N.test(d.nodeName)&&"static"===a.css(d,"position");)d=d.offsetParent;f=a.offset(c);g=a.offset(d);g.top+=parseFloat(a.css(d,"borderTopWidth"))||0;g.left+=parseFloat(a.css(d,"borderLeftWidth"))||0}f.top-=parseFloat(a.css(c,"marginTop"))||0;f.left-=parseFloat(a.css(c,"marginLeft"))||0;d={top:f.top-g.top,left:f.left-g.left}[b]+"px"}}return d}}});var N=/^(?:body|html)$/i});
KISSY.add("dom/base/selector",["./api","util"],function(x,k){function r(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function t(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function m(a){return function(c){var b=g._getElementById(a,f);return b&&g._contains(c,b)?[b]:[]}}function e(a){return function(b){return b.getElementsByClassName(a)}}function j(a){return function(b){return b.getElementsByTagName(a)}}function l(a,c){var d,
h,k="string"===typeof a,o=void 0!==c?l(c):(h=1)&&[f],s=o.length;if(a)if(k){a=B(a);if(h)if("body"===a)d=[f.body];else if(H.test(a)&&y)d=i(f.getElementsByClassName(RegExp.$1));else if(F.test(a))d=(h=g._getElementById(RegExp.$2,f))&&h.nodeName.toLowerCase()===RegExp.$1?[h]:[];else if(C.test(a))d=(h=g._getElementById(a.substr(1),f))?[h]:[];else if(I.test(a))d=i(f.getElementsByTagName(a));else if(!a.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&y){d=a.split(/\s+/);var p=o,
u,x;h=0;for(k=d.length;h<k;h++){u=d;x=h;var E;E=d[h];var G=E.charAt(0);E="#"===G?m(t(E)):"."===G?e(t(E)):j(E);u[x]=E}h=0;for(k=d.length;h<k;h++){E=d[h];var G=[],M;u=0;for(x=p.length;u<x;u++)M=E(p[u]),G.push.apply(G,i(M));p=G;if(!p.length)break}d=p&&1<p.length?g.unique(p):p}if(!d){d=[];for(h=0;h<s;h++)w.apply(d,g._selectInternal(a,o[h]));1<d.length&&1<s&&g.unique(d)}}else{if(d=a.nodeType||n.isWindow(a)?[a]:a.getDOMNodes?a.getDOMNodes():b(a)?a:v(a)?i(a):[a],!h){k=d;u=k.length;d=[];for(h=0;h<u;h++)for(p=
0;p<s;p++)if(g._contains(o[p],k[h])){d.push(k[h]);break}}}else d=[];d.each=r;return d}function d(a,b){var c=a&&h(a,"class");return c&&(c=c.replace(/[\r\t\n]/g,s))&&-1<(s+c+s).indexOf(s+b+s)}function h(a,c){var b=a&&a.getAttributeNode(c);if(b&&b.specified)return"value"in b?b.value:b.nodeValue}function a(a,b){return"*"===b||a.nodeName.toLowerCase()===b.toLowerCase()}var g=k("./api"),n=k("util"),f=document,c=f.documentElement,o=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector||
c.msMatchesSelector,y="getElementsByClassName"in f,b=n.isArray,i=n.makeArray,v=g.isDomNodeList,s=" ",w=Array.prototype.push,H=/^\.([\w-]+)$/,C=/^#([\w-]+)$/,I=/^([\w-])+$/,F=/^([\w-]+)#([\w-]+)$/,u=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,B=n.trim,p="sourceIndex"in c?function(a,b){return a.sourceIndex-b.sourceIndex}:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1};n.mix(g,{_getElementsByTagName:function(a,
b){return i(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},_getSimpleAttr:h,_isTag:a,_hasSingleClass:d,_matchesInternal:function(a,b){for(var c=[],d=0,e,f=b.length;d<f;d++)e=b[d],o.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return i(b.querySelectorAll(a))},query:l,get:function(a,b){return l(a,b)[0]||null},unique:function(){function a(c,d){return c===d?(b=!0,0):p(c,d)}var b,c=!0;[0,0].sort(function(){c=!1;return 0});return function(d){b=c;d.sort(a);
if(b)for(var e=1,f=d.length;e<f;)d[e]===d[e-1]?(d.splice(e,1),--f):e++;return d}}(),filter:function(b,c,e){var b=l(b,e),f,i,j,k,e=[];if("string"===typeof c&&(c=B(c))&&(j=u.exec(c)))f=j[1],i=j[2],k=j[3],f?f&&!i&&!k&&(c=function(a){return h(a,"id")===f}):c=function(b){var c=!0,e=!0;i&&(c=a(b,i));k&&(e=d(b,k));return e&&c};return e="function"===typeof c?n.filter(b,c):g._matchesInternal(c,b)},test:function(a,b,c){a=l(a,c);return a.length&&g.filter(a,b,c).length===a.length}})});
KISSY.add("dom/base/traversal",["util","./api"],function(x,k){function r(d,h,a,g,k,f,c){if(!(d=j.get(d)))return null;if(0===h)return d;f||(d=d[a]);if(!d)return null;k=k&&j.get(k)||null;void 0===h&&(h=1);var f=[],m=e.isArray(h),r,b;"number"===typeof h&&(r=0,b=h,h=function(){return++r===b});for(;d&&d!==k;){if((d.nodeType===l.ELEMENT_NODE||d.nodeType===l.TEXT_NODE&&c)&&t(d,h)&&(!g||g(d)))if(f.push(d),!m)break;d=d[a]}return m?f:f[0]||null}function t(d,h){if(!h)return!0;if(e.isArray(h)){var a,g=h.length;
if(!g)return!0;for(a=0;a<g;a++)if(j.test(d,h[a]))return!0}else if(j.test(d,h))return!0;return!1}function m(d,h,a,g){var k=[],f,c;if((f=d=j.get(d))&&a)f=d.parentNode;if(f){a=e.makeArray(f.childNodes);for(f=0;f<a.length;f++)c=a[f],(g||c.nodeType===l.ELEMENT_NODE)&&c!==d&&k.push(c);h&&(k=j.filter(k,h))}return k}var e=k("util"),j=k("./api"),l=j.NodeType;e.mix(j,{_contains:function(d,e){return!!(d.compareDocumentPosition(e)&16)},closest:function(d,e,a,g){return r(d,e,"parentNode",function(a){return a.nodeType!==
l.DOCUMENT_FRAGMENT_NODE},a,!0,g)},parent:function(d,e,a){return r(d,e,"parentNode",function(a){return a.nodeType!==l.DOCUMENT_FRAGMENT_NODE},a,void 0)},first:function(d,e,a){d=j.get(d);return r(d&&d.firstChild,e,"nextSibling",void 0,void 0,!0,a)},last:function(d,e,a){d=j.get(d);return r(d&&d.lastChild,e,"previousSibling",void 0,void 0,!0,a)},next:function(d,e,a){return r(d,e,"nextSibling",void 0,void 0,void 0,a)},prev:function(d,e,a){return r(d,e,"previousSibling",void 0,void 0,void 0,a)},siblings:function(d,
e,a){return m(d,e,!0,a)},children:function(d,e){return m(d,e,void 0)},contents:function(d,e){return m(d,e,void 0,1)},contains:function(d,e){d=j.get(d);e=j.get(e);return d&&e?j._contains(d,e):!1},index:function(d,h){var a=j.query(d),g,k=0;g=a[0];if(!h){a=g&&g.parentNode;if(!a)return-1;for(;g=g.previousSibling;)g.nodeType===l.ELEMENT_NODE&&k++;return k}k=j.query(h);return"string"===typeof h?e.indexOf(g,k):e.indexOf(k[0],a)},equals:function(d,e){d=j.query(d);e=j.query(e);if(d.length!==e.length)return!1;
for(var a=d.length;0<=a;a--)if(d[a]!==e[a])return!1;return!0}})});
