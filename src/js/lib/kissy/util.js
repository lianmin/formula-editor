/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jul 30 15:21
*/
KISSY.add("util","./util/array,./util/escape,./util/function,./util/object,./util/string,./util/type,./util/json,./util/web,./util/base".split(","),function(k,h,c,i){h("./util/array");h("./util/escape");h("./util/function");h("./util/object");h("./util/string");h("./util/type");h("./util/json");h("./util/web");i.exports=h("./util/base")});
KISSY.add("util/array",["./base"],function(k,h){var c=Array.prototype,i=c.indexOf,g=c.lastIndexOf,e=c.filter,d=c.every,j=c.some,a=h("./base"),b=c.map;a.mix(a,{indexOf:i?function(f,b,a){return void 0===a?i.call(b,f):i.call(b,f,a)}:function(f,b,a){for(var a=a||0,e=b.length;a<e;++a)if(b[a]===f)return a;return-1},lastIndexOf:g?function(f,b,a){return void 0===a?g.call(b,f):g.call(b,f,a)}:function(f,b,a){for(void 0===a&&(a=b.length-1);0<=a&&b[a]!==f;a--);return a},unique:function(f,b){var e=f.slice();b&&
e.reverse();for(var c=0,d,g;c<e.length;){for(g=e[c];(d=a.lastIndexOf(g,e))!==c;)e.splice(d,1);c+=1}b&&e.reverse();return e},inArray:function(f,b){return-1<a.indexOf(f,b)},filter:e?function(f,b,a){return e.call(f,b,a||this)}:function(f,b,e){var c=[];a.each(f,function(f,a,d){b.call(e||this,f,a,d)&&c.push(f)});return c},map:b?function(f,a,e){return b.call(f,a,e||this)}:function(f,b,a){for(var e=f.length,c=Array(e),d=0;d<e;d++){var g="string"===typeof f?f.charAt(d):f[d];if(g||d in f)c[d]=b.call(a||this,
g,d,f)}return c},reduce:function(f,b,a){var e=f.length;if("function"!==typeof b)throw new TypeError("callback is not function!");if(0===e&&2===arguments.length)throw new TypeError("arguments invalid");var c=0,d;if(3<=arguments.length)d=a;else{do{if(c in f){d=f[c++];break}c+=1;if(c>=e)throw new TypeError;}while(1)}for(;c<e;)c in f&&(d=b.call(void 0,d,f[c],c,f)),c++;return d},every:d?function(f,b,a){return d.call(f,b,a||this)}:function(b,a,e){for(var c=b&&b.length||0,d=0;d<c;d++)if(d in b&&!a.call(e,
b[d],d,b))return!1;return!0},some:j?function(b,a,e){return j.call(b,a,e||this)}:function(b,a,e){for(var c=b&&b.length||0,d=0;d<c;d++)if(d in b&&a.call(e,b[d],d,b))return!0;return!1},makeArray:function(b){if(null==b)return[];if(a.isArray(b))return b;var e=typeof b.length,d=typeof b;if("number"!==e||"string"===typeof b.nodeName||null!=b&&b==b.window||"string"===d||"function"===d&&!("item"in b&&"number"===e))return[b];for(var e=[],d=0,c=b.length;d<c;d++)e[d]=b[d];return e}})});
KISSY.add("util/base",[],function(k,h,c,i){var g=0;i.exports={mix:function(e,d){for(var c in d)e[c]=d[c];return e},guid:function(e){return(e||"")+g++}}});
KISSY.add("util/escape",["./base"],function(k,h){var c=h("./base"),i={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},g={},e,d,j=/[&<>"'`]/,a=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var b in i)g[i[b]]=b})();e=function(){var b="",a;for(a in i)b+=i[a]+"|";b=b.slice(0,-1);return e=RegExp(b,"g")}();d=function(){var b="",a;for(a in g)b+=g[a]+"|";return d=RegExp(b+"&#(\\d{1,5});","g")}();c.mix(c,{escapeHtml:function(b){if(!b&&0!==b)return"";b=""+b;return!j.test(b)?
b:(b+"").replace(e,function(b){return g[b]})},escapeRegExp:function(b){return b.replace(a,"\\$&")},unEscapeHtml:function(b){return b.replace(d,function(b,a){return i[b]||String.fromCharCode(+a)})}});c.escapeHTML=c.escapeHtml;c.unEscapeHTML=c.unEscapeHtml});
KISSY.add("util/function",["./base"],function(k,h){function c(c,e,d){function j(){}var a=[].slice,b=a.call(arguments,3),f=function(){var f=a.call(arguments);return e.apply(this instanceof j?this:d||this,c?f.concat(b):b.concat(f))};j.prototype=e.prototype;f.prototype=new j;return f}var i=h("./base");i.mix(i,{noop:function(){},bind:c(0,c,null,0),rbind:c(0,c,null,1),later:function(c,e,d,j,a){var e=e||0,b=c,f=i.makeArray(a),h;"string"===typeof c&&(b=j[c]);b||i.error("method undefine");c=function(){b.apply(j,
f)};h=d?setInterval(c,e):setTimeout(c,e);return{id:h,interval:d,cancel:function(){this.interval?clearInterval(h):clearTimeout(h)}}},throttle:function(c,e,d){e=e||150;if(-1===e)return function(){c.apply(d||this,arguments)};var j=i.now();return function(){var a=i.now();a-j>e&&(j=a,c.apply(d||this,arguments))}},buffer:function(c,e,d){function j(){j.stop();a=i.later(c,e,0,d||this,arguments)}e=e||150;if(-1===e)return function(){c.apply(d||this,arguments)};var a=null;j.stop=function(){a&&(a.cancel(),a=
0)};return j}})});
KISSY.add("util/object",["./base","logger-manager"],function(k,h){function c(b,a){return null!==b&&b!==f&&b[a]!==f}function i(b,a,c){delete b[l];delete a[l];return c}function g(a,m){if(a[l]===m&&m[l]===a)return!0;a[l]=m;m[l]=a;for(var d in m)if(!c(a,d)&&c(m,d))return i(a,m,!1);for(d in a)if(!c(m,d)&&c(a,d))return i(a,m,!1);for(d in m)if(d!==l&&!b.equals(a[d],m[d]))return i(a,m,!1);return b.isArray(a)&&b.isArray(m)&&a.length!==m.length?i(a,m,!1):i(a,m,!0)}function e(){}function d(a,c,e,p,o,z,j){if(!c||
!a)return a;var i,g,h,n;c[t]=a;z.push(c);h=b.keys(c);n=h.length;for(i=0;i<n;i++)if(g=h[i],g!==t){var l=a,k=c,u=e,r=p,s=o,x=z,w=j;if(u||!(g in l)||s){var v=l[g],q=k[g];if(v===q)v===f&&(l[g]=v);else if(r&&(q=r.call(k,g,q)),s&&q&&(b.isArray(q)||b.isPlainObject(q)))w&&q[t]?l[g]=q[t]:(k=v&&(b.isArray(v)||b.isPlainObject(v))?v:b.isArray(q)?[]:{},l[g]=k,d(k,q,u,r,!0,x,w));else if(q!==f&&(u||!(g in l)))l[g]=q}}return a}function j(b,a){return"constructor"===b?f:a}function a(c,d,e,p){var f=c,g,i,j,h;if(!c)return f;
if(p&&c[n])return e[c[n]].destination;if("object"===typeof c){h=c.constructor;if(b.inArray(h,[Boolean,String,Number,Date,RegExp]))f=new h(c.valueOf());else if(g=b.isArray(c))f=d?b.filter(c,d):c.concat();else if(i=b.isPlainObject(c))f={};p&&(c[n]=h=b.guid("c"),e[h]={destination:f,input:c})}if(g)for(c=0;c<f.length;c++)f[c]=a(f[c],d,e,p);else if(i)for(j in c)if(j!==n&&(!d||!1!==d.call(c,c[j],j,c)))f[j]=a(c[j],d,e,p);return f}var b=h("./base");h("logger-manager");var f,t="__MIX_CIRCULAR",u="undefined"===
typeof window?global:window,n="__~ks_cloned",w={}.toString,l="__~ks_compared",r=Object.create,x=!{toString:1}.propertyIsEnumerable("toString"),s="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(b,a){for(var c in a)b[c]=a[c]})(b,{equals:function(b,a){return b===a?!0:b===f||null===b||a===f||null===a?null==b&&null==a:b instanceof Date&&a instanceof Date?b.getTime()===a.getTime():"string"===typeof b&&"string"===typeof a||"number"===typeof b&&
"number"===typeof a?b===a:"object"===typeof b&&"object"===typeof a?g(b,a):b===a},keys:Object.keys||function(b){var a=[],c,d;for(c in b)b.hasOwnProperty(c)&&a.push(c);if(x)for(d=s.length-1;0<=d;d--)c=s[d],b.hasOwnProperty(c)&&a.push(c);return a},each:function(a,c,d){if(a){var e,o,g=0;e=a&&a.length;o=e===f||"[object Function]"===w.call(a);d=d||null;if(o)for(o=b.keys(a);g<o.length&&!(e=o[g],!1===c.call(d,a[e],e,a));g++);else for(o=a[0];g<e&&!1!==c.call(d,o,g,a);o=a[++g]);}return a},now:Date.now||function(){return+new Date},
isEmptyObject:function(a){for(var b in a)if(b!==f)return!1;return!0},stamp:function(a,c,d){var d=d||"__~ks_stamped",e=a[d];if(!e&&!c)try{e=a[d]=b.guid(d)}catch(o){e=f}return e},mix:function(a,c,e,p,o){var g;"object"===typeof e&&(p=e.whitelist,o=e.deep,g=e.structured,e=e.overwrite);if(p&&"function"!==typeof p)var j=p,p=function(a,c){return b.inArray(a,j)?c:f};e===f&&(e=!0);g===f&&(g=!0);var i=[],h=0;for(d(a,c,e,p,o,i,g);c=i[h++];)delete c[t];return a},merge:function(a){var a=b.makeArray(arguments),
c={},d,e=a.length;for(d=0;d<e;d++)b.mix(c,a[d]);return c},augment:function(a,c){var d=b.makeArray(arguments),e=d.length-2,g=1,i,h,l=d[e],k=d[e+1];d[1]=c;b.isArray(k)||(l=k,k=f,e++);"boolean"!==typeof l&&(l=f,e++);for(;g<e;g++){h=d[g];if(i=h.prototype)h=b.mix({},i,!0,j);b.mix(a.prototype,h,l,k)}return a},extend:function(a,c,d,f){var g=c.prototype;g.constructor=c;r?c=r(g):(e.prototype=g,c=new e);c.constructor=a;a.prototype=b.mix(c,a.prototype);a.superclass=g;d&&b.mix(c,d);f&&b.mix(a,f);return a},namespace:function(a,
b){var c,d,e;e=a.split(".");c=b||u;for(d=0;d<e.length;++d)c=c[e[d]]=c[e[d]]||{};return c},clone:function(c,d){var e;"object"===typeof d&&(e=d.structured,d=d.filter);e===f&&(e=!0);var g;e&&(g={});var i=a(c,d,g,e);e&&b.each(g,function(a){a=a.input;if(a[n])try{delete a[n]}catch(b){a[n]=f}});g=null;return i}})});
KISSY.add("util/string",["./base"],function(k,h){function c(a,b){return b.toUpperCase()}var i=h("./base"),g=/\\?\{([^{}]+)\}/g,e=/^[\s\xa0]+|[\s\xa0]+$/g,d=String.prototype.trim,j=/-([a-z])/gi;i.mix(i,{startsWith:function(a,b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c},trim:d?function(a){return null==a?"":d.call(a)}:function(a){return null==a?"":(a+"").replace(e,"")},urlEncode:function(a){return encodeURIComponent(""+a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g,
" "))},camelCase:function(a){return-1===a.indexOf("-")?a:a.replace(j,c)},substitute:function(a,b,c){return"string"!==typeof a||!b?a:a.replace(c||g,function(a,c){return"\\"===a.charAt(0)?a.slice(1):void 0===b[c]?"":b[c]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",["./base"],function(k,h){var c=h("./base"),i={},g=Object.prototype,e=g.toString;c.mix(c,{type:function(a){return null==a?""+a:i[e.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==c.type(a)||a.nodeType||a.window==a)return!1;var b,d;try{if((d=a.constructor)&&!g.hasOwnProperty.call(a,"constructor")&&!g.hasOwnProperty.call(d.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(b in a);return void 0===b||g.hasOwnProperty.call(a,b)}});for(var d="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
j=0;j<d.length;j++)(function(a,b){i["[object "+a+"]"]=b=a.toLowerCase();c["is"+a]=function(a){return c.type(a)===b}})(d[j],j);c.isArray=Array.isArray||c.isArray});
KISSY.add("util/json",["./base"],function(k,h){var c=h("./base"),i=/^[\],:{}\s]*$/,g=/(?:^|:|,)(?:\s*\[)+/g,e=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,d=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;c.parseJson=function(h){return null===h?h:"string"===typeof h&&(h=c.trim(h))&&i.test(h.replace(e,"@").replace(d,"]").replace(g,""))?(new Function("return "+h))():c.error("Invalid Json: "+h)}});
KISSY.add("util/web",["./base","logger-manager"],function(k,h){function c(){if(!a){e&&e.setTimeout&&m(e,x,c);a=1;for(var d=0;d<b.length;d++)try{b[d]()}catch(f){setTimeout(function(){throw f;},0)}}}function i(){if(!d||d.readyState===s)c();else if(y(e,x,c),n){var a=function(){m(d,l,a);c()};y(d,l,a)}else{var b=function(){d.readyState===s&&(m(d,r,b),c())};y(d,r,b);var g,h=j&&j.doScroll;try{g=null===e.frameElement}catch(i){g=!1}if(h&&g){var k=function(){try{h("left"),c()}catch(a){setTimeout(k,f)}};k()}}}
var g=h("./base");h("logger-manager");var e="undefined"!==typeof window?window:{},d=e.document||{},j=d.documentElement,a=0,b=[],f=40,t=/^#?([\w-]+)$/,u=/\S/,n=d.addEventListener,w=d.attachEvent||n,l="DOMContentLoaded",r="readystatechange",x="load",s="complete",y=n?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},m=n?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};g.mix(g,{isWindow:function(a){return null!=a&&a==a.window},
parseXml:function(a){if(a.documentElement)return a;var b;try{e.DOMParser?b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=void 0}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&g.error("Invalid XML: "+a);return b},globalEval:function(a){a&&u.test(a)&&(e.execScript?e.execScript(a):e.eval.call(e,a))},ready:function(c){if(a)try{c()}catch(d){setTimeout(function(){throw d;},0)}else b.push(c);return this},
available:function(a,b){var a=(a+"").match(t)[1],c=1,e=g.later(function(){if(500<++c)e.cancel();else{var f=d.getElementById(a);f&&(b(f),e.cancel())}},f,!0)}});g.parseXML=g.parseXml;w&&i();try{d.execCommand&&d.execCommand("BackgroundImageCache",!1,!0)}catch(A){}});
