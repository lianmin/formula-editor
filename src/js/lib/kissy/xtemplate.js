/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Aug 13 18:33
*/
KISSY.add("xtemplate",["util","xtemplate/runtime","xtemplate/compiler","logger-manager"],function(b,h,j,n){function a(b,g){g=this.config=g||{};g.loader=g.loader||d;"string"===typeof b&&(b=f.compile(b,g&&g.name));a.superclass.constructor.call(this,b,g)}var b=h("util"),j=h("xtemplate/runtime"),f=h("xtemplate/compiler");h("logger-manager");var d={cache:{},load:function(a,b){var d=a.name,e=this.cache;if(e[d])return b(void 0,e[d]);h([d],{success:function(a){if("string"===typeof a)try{a=f.compile(a,d)}catch(c){return b(c)}e[d]=
a;b(void 0,a)},error:function(){b('template "'+d+'" does not exist')}})}};b.extend(a,j,{},{compile:f.compile,loader:d,Compiler:f,Scope:j.Scope,RunTime:j,addCommand:j.addCommand,removeCommand:j.removeCommand});n.exports=a});
KISSY.add("xtemplate/compiler",["util","./runtime","./compiler/parser","./compiler/ast"],function(b,h,j,n){function a(a){return'"'+a+'"'}function f(a,e){return a.replace(e?B:p,function(a){a.length%2&&(a="\\"+a);return a})}function d(a,e){a=e?f(a,0):a.replace(/\\/g,"\\\\").replace(/'/g,"\\'");return a=a.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")}function k(a,e){x.apply(a,e)}function g(a){var e=[],b=a.opType,i,c,f;c=l[a.op1.type](a.op1);f=l[a.op2.type](a.op2);a=c.exp;i=f.exp;var d=
"exp"+w++;c=c.source;f=f.source;k(e,c);e.push("var "+d+" = "+a+";");"&&"===b||"||"===b?(e.push("if("+("&&"===b?"":"!")+"("+d+")){"),k(e,f),e.push(d+" = "+i+";"),e.push("}")):(k(e,f),e.push(d+" = ("+a+")"+b+"("+i+");"));return{exp:d,source:e}}function y(e,b){if(1===b.length)return null;var c,i,f,d,g=0;c=0;for(i=b.length;c<i;c++)if(b[c].type){g=1;break}if(g){g=[];c=0;for(i=b.length;c<i;c++)f=b[c],(d=f.type)?(f=l[d](f),k(e,f.source),g.push(f.exp)):g.push(a(f));return g}return null}function e(a){for(var e=
["function(scope, buffer) {"],b=0,c=a.length;b<c;b++)k(e,l[a[b].type](a[b]).source);e.push(o);e.push("}");return e}function i(e,b){var c="option"+w++,i=["var "+c+" = {"+(b?"escape: 1":"")+"};"],f=e.params,d=e.hash;if(f){var g="params"+w++;i.push("var "+g+" = [];");A(f,function(a){a=l[a.type](a);k(i,a.source);i.push(g+".push("+a.exp+");")});i.push(c+".params = "+g+";")}if(d){var m="hash"+w++;i.push("var "+m+" = {};");A(d.value,function(e,b){var c=l[e.type](e);k(i,c.source);i.push(m+"["+a(b)+"] = "+
c.exp+";")});i.push(c+".hash = "+m+";")}return{exp:c,source:i}}function c(c,b,f,l){var d=[],g,h,j=b.id,o=j.string,n=j.parts,s=j.lineNumber,t;if("elseif"===o)return{exp:"",source:[]};g=i(b,f);f=g.exp;k(d,g.source);if(l){t=l.program;var p=t.inverse;g=[];var u,r,v,z=t.statements,x=[];for(t=0;t<z.length;t++)v=z[t],"expressionStatement"===v.type&&(r=v.value)&&"function"===r.type&&"elseif"===r.id.string?(u&&g.push(u),u={condition:r.params[0],statements:[]}):u?u.statements.push(v):x.push(v);u&&g.push(u);
d.push(f+".fn = "+e(x).join("\n")+";");p&&d.push(f+".inverse = "+e(p).join("\n")+";");if(g.length){u="elseIfs"+w++;d.push("var "+u+" = []");for(t=0;t<g.length;t++)r=g[t],p="elseIf"+w++,d.push("var "+p+" = {}"),v=r.condition,v=c[v.type](v),d.push(p+".test = function(scope){"),k(d,v.source),d.push("return ("+v.exp+");"),d.push("};"),d.push(p+".fn = "+e(r.statements).join("\n")+";"),d.push(u+".push("+p+");");d.push(f+".elseIfs = "+u+";")}}c.isModule&&("include"===o||"extend"===o)&&d.push(m(D,{name:b.params[0].value}));
l||(h="callRet"+w++,d.push("var "+h));o in q?d.push(m(E,{lhs:l?"buffer":h,name:o,option:f,lineNumber:s})):l?d.push(m(F,{option:f,idParts:a(n.join('","')),lineNumber:s})):(c=y(d,n),d.push(m(G,{lhs:h,option:f,idParts:c?c.join(","):a(n.join('","')),depth:j.depth,lineNumber:s})));h&&d.push(m(H,{name:h}));return{exp:h,source:d}}var b=h("util"),l,E="{lhs} = {name}Command.call(tpl, scope, {option}, buffer, {lineNumber});",F="buffer = callCommandUtil(tpl, scope, {option}, buffer, [{idParts}], {lineNumber});",
G="{lhs} = callFnUtil(tpl, scope, {option}, buffer, [{idParts}], {depth},{lineNumber});",D='require("{name}");',H="if({name} && {name}.isBuffer){\nbuffer = {name};\n{name} = undefined;\n}",o="return buffer;",j=h("./runtime"),C=h("./compiler/parser");C.yy=h("./compiler/ast");var r=[],m=b.substitute,A=b.each,q=j.nativeCommands,h=j.utils,s={};s.undefined=s["null"]=s["true"]=s["false"]=1;A(h,function(a,e){r.push(m('{name}Util = utils["{name}"]',{name:e}))});A(q,function(a,e){r.push(m('{name}Command = nativeCommands["{name}"]',
{name:e}))});var r="var "+r.join(",\n")+";",B=/\\*"/g,p=/\\*'/g,x=[].push,w=0;l={arrayExpression:function(a){for(var a=a.list,e=a.length,c,b=[],i=[],f=0;f<e;f++)c=l[a[f].type](a[f]),b.push.apply(b,c.source),i.push(c.exp);return{exp:"["+i.join(",")+"]",source:b}},jsonExpression:function(a){for(var a=a.json,e=a.length,c,b=[],i=[],f=0;f<e;f++){var d=a[f];c=l[d[1].type](d[1]);b.push.apply(b,c.source);i.push('"'+d[0]+'": '+c.exp)}return{exp:"{"+i.join(",")+"}",source:b}},conditionalOrExpression:g,conditionalAndExpression:g,
relationalExpression:g,equalityExpression:g,additiveExpression:g,multiplicativeExpression:g,unaryExpression:function(a){var e=l[a.value.type](a.value);return{exp:a.unaryType+"("+e.exp+")",source:e.source}},string:function(a){return{exp:"'"+d(a.value,1)+"'",source:[]}},number:function(a){return{exp:a.value,source:[]}},id:function(e){if(s[e.string])return{exp:e.string,source:[]};var c=[],b=e.depth,e=e.parts,i="id"+w++,f=y(c,e);c.push(m("var {lhs} = scope.resolve([{idParts}],{depth});",{lhs:i,idParts:f?
f.join(","):a(e.join('","')),depth:b}));return{exp:i,source:c}},"function":function(a,e){return c(this,a,e)},blockStatement:function(a){return c(this,a.func,a.escape,a)},expressionStatement:function(a){var e=[],c=a.escape,a=a.value,a=l[a.type](a,c);k(e,a.source);e.push(m("buffer.write({value},{escape});",{value:a.exp,escape:!!c}));return{exp:"",source:e}},contentStatement:function(a){var e=m,a=d(a.value,0);return{exp:"",source:[e("buffer.write({value},{escape});",{value:"'"+a+"'",escape:0})]}}};var z;
z={parse:function(a,e){return C.parse(a,e)},compileToStr:function(a){var e=z.compileToJson(a);return m("function {functionName}({params}){\n{body}\n}",{functionName:a.functionName||"",params:e.params.join(","),body:e.source})},compileToJson:function(a){var e=z.parse(a.content,a.name);w=0;l.isModule=a.isModule;for(var a=l,e=e.statements,c=["var tpl = this,\nnativeCommands = tpl.root.nativeCommands,\nutils = tpl.root.utils;",r],b=0,i=e.length;b<i;b++)k(c,a[e[b].type](e[b]).source);c.push(o);return{params:["scope",
"buffer","undefined"],source:c.join("\n")}},compile:function(a,e){var c=z.compileToJson({content:a,name:e||"xtemplate"+w++});return Function.apply(null,c.params.concat(c.source+m("\n//# sourceURL = {name}.js",{name:e})))}};n.exports=z});
KISSY.add("xtemplate/compiler/parser",[],function(b,h,j,n){b=function(a){function b(a,i){for(var c in i)a[c]=i[c]}function d(a,b,c){if(a){var f,d,g=0,c=c||null;if("[object Array]"===Object.prototype.toString.call(a)){d=a.length;for(f=a[0];g<d&&!1!==b.call(c,f,g,a);f=a[++g]);}else for(f in a)if(!1===b.call(c,a[f],f,a))break}}var k={},g=function(a){this.rules=[];b(this,a);this.resetInput(this.input)};g.prototype={resetInput:function(a){b(this,{input:a,matched:"",stateStack:[g.STATIC.INITIAL],match:"",
text:"",firstLine:1,lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var a=this.stateStack[this.stateStack.length-1],b=[];this.mapState&&(a=this.mapState(a));d(this.rules,function(c){var f=c.state||c[3];if(f){a:{for(var d=0,k=f.length;d<k;d++)if(f[d]===a){f=!0;break a}f=!1}f&&b.push(c)}else a===g.STATIC.INITIAL&&b.push(c)});return b},pushState:function(a){this.stateStack.push(a)},popState:function(a){for(var a=a||1,b;a--;)b=this.stateStack.pop();return b},showDebugInfo:function(){var a=
g.STATIC.DEBUG_CONTEXT_LIMIT,b=this.matched,c=this.match,f=this.input,b=b.slice(0,b.length-c.length),b=(b.length>a?"...":"")+b.slice(0-a).replace(/\n/g," "),c=c+f,c=c.slice(0,a).replace(/\n/g," ")+(c.length>a?"...":"");return b+c+"\n"+Array(b.length+1).join("-")+"^"},mapSymbol:function(a){return this.symbolMap[a]},mapReverseSymbol:function(a){var b=this.symbolMap,c,f=this.reverseSymbolMap;if(!f&&b)for(c in f=this.reverseSymbolMap={},b)f[b[c]]=c;return f?f[a]:a},lex:function(){var e=this.input,d,c,
l,k=this.getCurrentRules();this.match=this.text="";if(!e)return this.mapSymbol(g.STATIC.END_TAG);for(d=0;d<k.length;d++){c=k[d];var h=c.token||c[0];l=c.action||c[2]||a;if(c=e.match(c.regexp||c[1])){if(d=c[0].match(/\n.*/g))this.lineNumber+=d.length;b(this,{firstLine:this.lastLine,lastLine:this.lineNumber+1,firstColumn:this.lastColumn,lastColumn:d?d[d.length-1].length-1:this.lastColumn+c[0].length});d=this.match=c[0];this.matches=c;this.text=d;this.matched+=d;l=l&&l.call(this);l=l===a?h:this.mapSymbol(l);
this.input=e=e.slice(d.length);return l?l:this.lex()}}}};g.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};var h=new g({rules:[[0,/^[\s\S]*?(?={{)/,function(){var a=this.text,b,c=0;if(b=a.match(/\\+$/))c=b[0].length;c%2?(this.pushState("et"),a=a.slice(0,-1)):this.pushState("t");c&&(a=a.replace(/\\+$/g,function(a){return Array(a.length/2+1).join("\\")}));this.text=a;return"CONTENT"}],["b",/^[\s\S]+/,0],["b",/^[\s\S]{2,}?(?:(?={{)|$)/,function(){this.popState()},["et"]],["c",/^{{{?(?:#|@)/,
function(){4===this.text.length?this.pushState("p"):this.pushState("e")},["t"]],["d",/^{{{?\//,function(){4===this.text.length?this.pushState("p"):this.pushState("e")},["t"]],["e",/^{{\s*else\s*}}/,function(){this.popState()},["t"]],[0,/^{{![\s\S]*?}}/,function(){this.popState()},["t"]],["b",/^{{%([\s\S]*?)%}}/,function(){this.text=this.matches[1]||"";this.popState()},["t"]],["f",/^{{{?/,function(){3===this.text.length?this.pushState("p"):this.pushState("e")},["t"]],[0,/^\s+/,0,["p","e"]],["g",/^,/,
0,["p","e"]],["h",/^}}}/,function(){this.popState(2)},["p"]],["h",/^}}/,function(){this.popState(2)},["e"]],["i",/^\(/,0,["p","e"]],["j",/^\)/,0,["p","e"]],["k",/^\|\|/,0,["p","e"]],["l",/^&&/,0,["p","e"]],["m",/^===/,0,["p","e"]],["n",/^!==/,0,["p","e"]],["o",/^>=/,0,["p","e"]],["p",/^<=/,0,["p","e"]],["q",/^>/,0,["p","e"]],["r",/^</,0,["p","e"]],["s",/^\+/,0,["p","e"]],["t",/^-/,0,["p","e"]],["u",/^\*/,0,["p","e"]],["v",/^\//,0,["p","e"]],["w",/^%/,0,["p","e"]],["x",/^!/,0,["p","e"]],["y",/^"(\\[\s\S]|[^\\"\n])*"/,
function(){this.text=this.text.slice(1,-1).replace(/\\"/g,'"')},["p","e"]],["y",/^'(\\[\s\S]|[^\\'\n])*'/,function(){this.text=this.text.slice(1,-1).replace(/\\'/g,"'")},["p","e"]],["z",/^\d+(?:\.\d+)?(?:e-?\d+)?/i,0,["p","e"]],["aa",/^=/,0,["p","e"]],["ab",/^\.\./,function(){this.pushState("ws")},["p","e"]],["ac",/^\//,function(){this.popState()},["ws"]],["ac",/^\./,0,["p","e"]],["ad",/^\[/,0,["p","e"]],["ae",/^\]/,0,["p","e"]],["af",/^\{/,0,["p","e"]],["ag",/^\:/,0,["p","e"]],["ah",/^\}/,0,["p",
"e"]],["ab",/^[a-zA-Z_$][a-zA-Z0-9_$]*/,0,["p","e"]]]});k.lexer=h;h.symbolMap={$EOF:"a",CONTENT:"b",OPEN_BLOCK:"c",OPEN_CLOSE_BLOCK:"d",INVERSE:"e",OPEN_TPL:"f",COMMA:"g",CLOSE:"h",L_PAREN:"i",R_PAREN:"j",OR:"k",AND:"l",LOGIC_EQUALS:"m",LOGIC_NOT_EQUALS:"n",GE:"o",LE:"p",GT:"q",LT:"r",PLUS:"s",MINUS:"t",MULTIPLY:"u",DIVIDE:"v",MODULUS:"w",NOT:"x",STRING:"y",NUMBER:"z",EQUALS:"aa",ID:"ab",SEP:"ac",L_BRACKET:"ad",R_BRACKET:"ae",L_BRACE:"af",COLON:"ag",R_BRACE:"ah",$START:"ai",program:"aj",statements:"ak",
statement:"al","function":"am",id:"an",expression:"ao",params:"ap",hash:"aq",param:"ar",conditionalOrExpression:"as",listExpression:"at",jsonExpression:"au",jsonPart:"av",conditionalAndExpression:"aw",equalityExpression:"ax",relationalExpression:"ay",additiveExpression:"az",multiplicativeExpression:"ba",unaryExpression:"bb",primaryExpression:"bc",hashSegment:"bd",idSegments:"be"};k.productions=[["ai",["aj"]],["aj",["ak","e","ak"],function(){return new this.yy.ProgramNode(this.lexer.lineNumber,this.$1,
this.$3)}],["aj",["ak"],function(){return new this.yy.ProgramNode(this.lexer.lineNumber,this.$1)}],["ak",["al"],function(){return[this.$1]}],["ak",["ak","al"],function(){this.$1.push(this.$2)}],["al","c,am,h,aj,d,an,h".split(","),function(){return new this.yy.BlockStatement(this.lexer.lineNumber,this.$2,this.$4,this.$6,this.$1.length!==4)}],["al",["f","ao","h"],function(){return new this.yy.ExpressionStatement(this.lexer.lineNumber,this.$2,3!==this.$1.length)}],["al",["b"],function(){return new this.yy.ContentStatement(this.lexer.lineNumber,
this.$1)}],["am","an,i,ap,g,aq,j".split(","),function(){return new this.yy.Function(this.lexer.lineNumber,this.$1,this.$3,this.$5)}],["am",["an","i","ap","j"],function(){return new this.yy.Function(this.lexer.lineNumber,this.$1,this.$3)}],["am",["an","i","aq","j"],function(){return new this.yy.Function(this.lexer.lineNumber,this.$1,null,this.$3)}],["am",["an","i","j"],function(){return new this.yy.Function(this.lexer.lineNumber,this.$1)}],["ap",["ap","g","ar"],function(){this.$1.push(this.$3)}],["ap",
["ar"],function(){return[this.$1]}],["ar",["ao"]],["ao",["as"]],["ao",["ad","at","ae"],function(){return new this.yy.ArrayExpression(this.$2)}],["ao",["af","au","ah"],function(){return new this.yy.JsonExpression(this.$2)}],["av",["y","ag","ao"],function(){return[this.$1,this.$3]}],["av",["ab","ag","ao"],function(){return[this.$1,this.$3]}],["au",["av"],function(){return[this.$1]}],["au",["au","g","av"],function(){this.$1.push(this.$3)}],["at",["ao"],function(){return[this.$1]}],["at",["at","g","ao"],
function(){this.$1.push(this.$3)}],["as",["aw"]],["as",["as","k","aw"],function(){return new this.yy.ConditionalOrExpression(this.$1,this.$3)}],["aw",["ax"]],["aw",["aw","l","ax"],function(){return new this.yy.ConditionalAndExpression(this.$1,this.$3)}],["ax",["ay"]],["ax",["ax","m","ay"],function(){return new this.yy.EqualityExpression(this.$1,"===",this.$3)}],["ax",["ax","n","ay"],function(){return new this.yy.EqualityExpression(this.$1,"!==",this.$3)}],["ay",["az"]],["ay",["ay","r","az"],function(){return new this.yy.RelationalExpression(this.$1,
"<",this.$3)}],["ay",["ay","q","az"],function(){return new this.yy.RelationalExpression(this.$1,">",this.$3)}],["ay",["ay","p","az"],function(){return new this.yy.RelationalExpression(this.$1,"<=",this.$3)}],["ay",["ay","o","az"],function(){return new this.yy.RelationalExpression(this.$1,">=",this.$3)}],["az",["ba"]],["az",["az","s","ba"],function(){return new this.yy.AdditiveExpression(this.$1,"+",this.$3)}],["az",["az","t","ba"],function(){return new this.yy.AdditiveExpression(this.$1,"-",this.$3)}],
["ba",["bb"]],["ba",["ba","u","bb"],function(){return new this.yy.MultiplicativeExpression(this.$1,"*",this.$3)}],["ba",["ba","v","bb"],function(){return new this.yy.MultiplicativeExpression(this.$1,"/",this.$3)}],["ba",["ba","w","bb"],function(){return new this.yy.MultiplicativeExpression(this.$1,"%",this.$3)}],["bb",["x","bb"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["bb",["t","bb"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["bb",["bc"]],["bc",["am"]],
["bc",["y"],function(){return new this.yy.String(this.lexer.lineNumber,this.$1)}],["bc",["z"],function(){return new this.yy.Number(this.lexer.lineNumber,this.$1)}],["bc",["an"]],["bc",["i","ao","j"],function(){return this.$2}],["aq",["aq","g","bd"],function(){var a=this.$3;this.$1.value[a[0]]=a[1]}],["aq",["bd"],function(){var a=new this.yy.Hash(this.lexer.lineNumber),b=this.$1;a.value[b[0]]=b[1];return a}],["bd",["ab","aa","ao"],function(){return[this.$1,this.$3]}],["an",["be"],function(){return new this.yy.Id(this.lexer.lineNumber,
this.$1)}],["be",["be","ac","ab"],function(){this.$1.push(this.$3)}],["be",["be","ad","ao","ae"],function(){this.$1.push(this.$3)}],["be",["ab"],function(){return[this.$1]}]];k.table={gotos:{"0":{aj:4,ak:5,al:6},2:{am:8,an:9,be:10},3:{am:18,an:19,ao:20,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},5:{al:30},11:{am:18,an:19,ao:35,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},12:{am:18,an:19,bb:36,bc:28,be:10},13:{am:18,an:19,bb:37,bc:28,be:10},16:{am:18,an:19,ao:38,as:21,at:39,aw:22,
ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},17:{au:42,av:43},29:{ak:58,al:6},31:{aj:59,ak:5,al:6},32:{am:18,an:19,ao:62,ap:63,aq:64,ar:65,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,bd:66,be:10},34:{am:18,an:19,ao:68,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},45:{am:18,an:19,aw:76,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},46:{am:18,an:19,ax:77,ay:24,az:25,ba:26,bb:27,bc:28,be:10},47:{am:18,an:19,ay:78,az:25,ba:26,bb:27,bc:28,be:10},48:{am:18,an:19,ay:79,az:25,ba:26,bb:27,bc:28,be:10},
49:{am:18,an:19,az:80,ba:26,bb:27,bc:28,be:10},50:{am:18,an:19,az:81,ba:26,bb:27,bc:28,be:10},51:{am:18,an:19,az:82,ba:26,bb:27,bc:28,be:10},52:{am:18,an:19,az:83,ba:26,bb:27,bc:28,be:10},53:{am:18,an:19,ba:84,bb:27,bc:28,be:10},54:{am:18,an:19,ba:85,bb:27,bc:28,be:10},55:{am:18,an:19,bb:86,bc:28,be:10},56:{am:18,an:19,bb:87,bc:28,be:10},57:{am:18,an:19,bb:88,bc:28,be:10},58:{al:30},70:{am:18,an:19,ao:96,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},72:{am:18,an:19,ao:97,as:21,aw:22,ax:23,
ay:24,az:25,ba:26,bb:27,bc:28,be:10},73:{am:18,an:19,ao:98,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},74:{av:99},89:{an:100,be:10},90:{am:18,an:19,ao:101,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,be:10},91:{am:18,an:19,ao:62,aq:102,ar:103,as:21,aw:22,ax:23,ay:24,az:25,ba:26,bb:27,bc:28,bd:66,be:10},93:{bd:105}},action:{"0":{b:[1,a,1],c:[1,a,2],f:[1,a,3]},1:{a:[2,7],e:[2,7],c:[2,7],f:[2,7],b:[2,7],d:[2,7]},2:{ab:[1,a,7]},3:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,
a,7],ad:[1,a,16],af:[1,a,17]},4:{a:[0]},5:{a:[2,2],d:[2,2],b:[1,a,1],c:[1,a,2],e:[1,a,29],f:[1,a,3]},6:{a:[2,3],e:[2,3],c:[2,3],f:[2,3],b:[2,3],d:[2,3]},7:{i:[2,57],ac:[2,57],ad:[2,57],h:[2,57],k:[2,57],l:[2,57],m:[2,57],n:[2,57],o:[2,57],p:[2,57],q:[2,57],r:[2,57],s:[2,57],t:[2,57],u:[2,57],v:[2,57],w:[2,57],j:[2,57],ae:[2,57],g:[2,57],ah:[2,57]},8:{h:[1,a,31]},9:{i:[1,a,32]},10:{i:[2,54],h:[2,54],k:[2,54],l:[2,54],m:[2,54],n:[2,54],o:[2,54],p:[2,54],q:[2,54],r:[2,54],s:[2,54],t:[2,54],u:[2,54],
v:[2,54],w:[2,54],j:[2,54],ae:[2,54],g:[2,54],ah:[2,54],ac:[1,a,33],ad:[1,a,34]},11:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7],ad:[1,a,16],af:[1,a,17]},12:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},13:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},14:{h:[2,47],k:[2,47],l:[2,47],m:[2,47],n:[2,47],o:[2,47],p:[2,47],q:[2,47],r:[2,47],s:[2,47],t:[2,47],u:[2,47],v:[2,47],w:[2,47],j:[2,47],ae:[2,47],g:[2,47],ah:[2,47]},15:{h:[2,48],k:[2,
48],l:[2,48],m:[2,48],n:[2,48],o:[2,48],p:[2,48],q:[2,48],r:[2,48],s:[2,48],t:[2,48],u:[2,48],v:[2,48],w:[2,48],j:[2,48],ae:[2,48],g:[2,48],ah:[2,48]},16:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7],ad:[1,a,16],af:[1,a,17]},17:{y:[1,a,40],ab:[1,a,41]},18:{h:[2,46],k:[2,46],l:[2,46],m:[2,46],n:[2,46],o:[2,46],p:[2,46],q:[2,46],r:[2,46],s:[2,46],t:[2,46],u:[2,46],v:[2,46],w:[2,46],j:[2,46],ae:[2,46],g:[2,46],ah:[2,46]},19:{h:[2,49],k:[2,49],l:[2,49],m:[2,49],n:[2,49],o:[2,49],
p:[2,49],q:[2,49],r:[2,49],s:[2,49],t:[2,49],u:[2,49],v:[2,49],w:[2,49],j:[2,49],ae:[2,49],g:[2,49],ah:[2,49],i:[1,a,32]},20:{h:[1,a,44]},21:{h:[2,15],j:[2,15],ae:[2,15],g:[2,15],ah:[2,15],k:[1,a,45]},22:{h:[2,24],k:[2,24],j:[2,24],ae:[2,24],g:[2,24],ah:[2,24],l:[1,a,46]},23:{h:[2,26],k:[2,26],l:[2,26],j:[2,26],ae:[2,26],g:[2,26],ah:[2,26],m:[1,a,47],n:[1,a,48]},24:{h:[2,28],k:[2,28],l:[2,28],m:[2,28],n:[2,28],j:[2,28],ae:[2,28],g:[2,28],ah:[2,28],o:[1,a,49],p:[1,a,50],q:[1,a,51],r:[1,a,52]},25:{h:[2,
31],k:[2,31],l:[2,31],m:[2,31],n:[2,31],o:[2,31],p:[2,31],q:[2,31],r:[2,31],j:[2,31],ae:[2,31],g:[2,31],ah:[2,31],s:[1,a,53],t:[1,a,54]},26:{h:[2,36],k:[2,36],l:[2,36],m:[2,36],n:[2,36],o:[2,36],p:[2,36],q:[2,36],r:[2,36],s:[2,36],t:[2,36],j:[2,36],ae:[2,36],g:[2,36],ah:[2,36],u:[1,a,55],v:[1,a,56],w:[1,a,57]},27:{h:[2,39],k:[2,39],l:[2,39],m:[2,39],n:[2,39],o:[2,39],p:[2,39],q:[2,39],r:[2,39],s:[2,39],t:[2,39],u:[2,39],v:[2,39],w:[2,39],j:[2,39],ae:[2,39],g:[2,39],ah:[2,39]},28:{h:[2,45],k:[2,45],
l:[2,45],m:[2,45],n:[2,45],o:[2,45],p:[2,45],q:[2,45],r:[2,45],s:[2,45],t:[2,45],u:[2,45],v:[2,45],w:[2,45],j:[2,45],ae:[2,45],g:[2,45],ah:[2,45]},29:{b:[1,a,1],c:[1,a,2],f:[1,a,3]},30:{a:[2,4],e:[2,4],c:[2,4],f:[2,4],b:[2,4],d:[2,4]},31:{b:[1,a,1],c:[1,a,2],f:[1,a,3]},32:{i:[1,a,11],j:[1,a,60],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,61],ad:[1,a,16],af:[1,a,17]},33:{ab:[1,a,67]},34:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7],ad:[1,a,16],af:[1,a,17]},35:{j:[1,a,69]},
36:{h:[2,44],k:[2,44],l:[2,44],m:[2,44],n:[2,44],o:[2,44],p:[2,44],q:[2,44],r:[2,44],s:[2,44],t:[2,44],u:[2,44],v:[2,44],w:[2,44],j:[2,44],ae:[2,44],g:[2,44],ah:[2,44]},37:{h:[2,43],k:[2,43],l:[2,43],m:[2,43],n:[2,43],o:[2,43],p:[2,43],q:[2,43],r:[2,43],s:[2,43],t:[2,43],u:[2,43],v:[2,43],w:[2,43],j:[2,43],ae:[2,43],g:[2,43],ah:[2,43]},38:{ae:[2,22],g:[2,22]},39:{g:[1,a,70],ae:[1,a,71]},40:{ag:[1,a,72]},41:{ag:[1,a,73]},42:{g:[1,a,74],ah:[1,a,75]},43:{ah:[2,20],g:[2,20]},44:{a:[2,6],e:[2,6],c:[2,
6],f:[2,6],b:[2,6],d:[2,6]},45:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},46:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},47:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},48:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},49:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},50:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},51:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],
z:[1,a,15],ab:[1,a,7]},52:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},53:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},54:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},55:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},56:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},57:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7]},58:{a:[2,1],d:[2,1],b:[1,a,1],c:[1,a,2],f:[1,a,3]},59:{d:[1,
a,89]},60:{h:[2,11],k:[2,11],l:[2,11],m:[2,11],n:[2,11],o:[2,11],p:[2,11],q:[2,11],r:[2,11],s:[2,11],t:[2,11],u:[2,11],v:[2,11],w:[2,11],j:[2,11],ae:[2,11],g:[2,11],ah:[2,11]},61:{g:[2,57],i:[2,57],j:[2,57],k:[2,57],l:[2,57],m:[2,57],n:[2,57],o:[2,57],p:[2,57],q:[2,57],r:[2,57],s:[2,57],t:[2,57],u:[2,57],v:[2,57],w:[2,57],ac:[2,57],ad:[2,57],aa:[1,a,90]},62:{g:[2,14],j:[2,14]},63:{g:[1,a,91],j:[1,a,92]},64:{g:[1,a,93],j:[1,a,94]},65:{g:[2,13],j:[2,13]},66:{j:[2,52],g:[2,52]},67:{i:[2,55],ac:[2,55],
ad:[2,55],h:[2,55],k:[2,55],l:[2,55],m:[2,55],n:[2,55],o:[2,55],p:[2,55],q:[2,55],r:[2,55],s:[2,55],t:[2,55],u:[2,55],v:[2,55],w:[2,55],j:[2,55],ae:[2,55],g:[2,55],ah:[2,55]},68:{ae:[1,a,95]},69:{h:[2,50],k:[2,50],l:[2,50],m:[2,50],n:[2,50],o:[2,50],p:[2,50],q:[2,50],r:[2,50],s:[2,50],t:[2,50],u:[2,50],v:[2,50],w:[2,50],j:[2,50],ae:[2,50],g:[2,50],ah:[2,50]},70:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7],ad:[1,a,16],af:[1,a,17]},71:{h:[2,16],j:[2,16],ae:[2,16],g:[2,16],ah:[2,
16]},72:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7],ad:[1,a,16],af:[1,a,17]},73:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7],ad:[1,a,16],af:[1,a,17]},74:{y:[1,a,40],ab:[1,a,41]},75:{h:[2,17],j:[2,17],ae:[2,17],g:[2,17],ah:[2,17]},76:{h:[2,25],k:[2,25],j:[2,25],ae:[2,25],g:[2,25],ah:[2,25],l:[1,a,46]},77:{h:[2,27],k:[2,27],l:[2,27],j:[2,27],ae:[2,27],g:[2,27],ah:[2,27],m:[1,a,47],n:[1,a,48]},78:{h:[2,29],k:[2,29],l:[2,29],m:[2,29],n:[2,29],j:[2,29],ae:[2,
29],g:[2,29],ah:[2,29],o:[1,a,49],p:[1,a,50],q:[1,a,51],r:[1,a,52]},79:{h:[2,30],k:[2,30],l:[2,30],m:[2,30],n:[2,30],j:[2,30],ae:[2,30],g:[2,30],ah:[2,30],o:[1,a,49],p:[1,a,50],q:[1,a,51],r:[1,a,52]},80:{h:[2,35],k:[2,35],l:[2,35],m:[2,35],n:[2,35],o:[2,35],p:[2,35],q:[2,35],r:[2,35],j:[2,35],ae:[2,35],g:[2,35],ah:[2,35],s:[1,a,53],t:[1,a,54]},81:{h:[2,34],k:[2,34],l:[2,34],m:[2,34],n:[2,34],o:[2,34],p:[2,34],q:[2,34],r:[2,34],j:[2,34],ae:[2,34],g:[2,34],ah:[2,34],s:[1,a,53],t:[1,a,54]},82:{h:[2,
33],k:[2,33],l:[2,33],m:[2,33],n:[2,33],o:[2,33],p:[2,33],q:[2,33],r:[2,33],j:[2,33],ae:[2,33],g:[2,33],ah:[2,33],s:[1,a,53],t:[1,a,54]},83:{h:[2,32],k:[2,32],l:[2,32],m:[2,32],n:[2,32],o:[2,32],p:[2,32],q:[2,32],r:[2,32],j:[2,32],ae:[2,32],g:[2,32],ah:[2,32],s:[1,a,53],t:[1,a,54]},84:{h:[2,37],k:[2,37],l:[2,37],m:[2,37],n:[2,37],o:[2,37],p:[2,37],q:[2,37],r:[2,37],s:[2,37],t:[2,37],j:[2,37],ae:[2,37],g:[2,37],ah:[2,37],u:[1,a,55],v:[1,a,56],w:[1,a,57]},85:{h:[2,38],k:[2,38],l:[2,38],m:[2,38],n:[2,
38],o:[2,38],p:[2,38],q:[2,38],r:[2,38],s:[2,38],t:[2,38],j:[2,38],ae:[2,38],g:[2,38],ah:[2,38],u:[1,a,55],v:[1,a,56],w:[1,a,57]},86:{h:[2,40],k:[2,40],l:[2,40],m:[2,40],n:[2,40],o:[2,40],p:[2,40],q:[2,40],r:[2,40],s:[2,40],t:[2,40],u:[2,40],v:[2,40],w:[2,40],j:[2,40],ae:[2,40],g:[2,40],ah:[2,40]},87:{h:[2,41],k:[2,41],l:[2,41],m:[2,41],n:[2,41],o:[2,41],p:[2,41],q:[2,41],r:[2,41],s:[2,41],t:[2,41],u:[2,41],v:[2,41],w:[2,41],j:[2,41],ae:[2,41],g:[2,41],ah:[2,41]},88:{h:[2,42],k:[2,42],l:[2,42],m:[2,
42],n:[2,42],o:[2,42],p:[2,42],q:[2,42],r:[2,42],s:[2,42],t:[2,42],u:[2,42],v:[2,42],w:[2,42],j:[2,42],ae:[2,42],g:[2,42],ah:[2,42]},89:{ab:[1,a,7]},90:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,7],ad:[1,a,16],af:[1,a,17]},91:{i:[1,a,11],t:[1,a,12],x:[1,a,13],y:[1,a,14],z:[1,a,15],ab:[1,a,61],ad:[1,a,16],af:[1,a,17]},92:{h:[2,9],k:[2,9],l:[2,9],m:[2,9],n:[2,9],o:[2,9],p:[2,9],q:[2,9],r:[2,9],s:[2,9],t:[2,9],u:[2,9],v:[2,9],w:[2,9],j:[2,9],ae:[2,9],g:[2,9],ah:[2,9]},93:{ab:[1,
a,104]},94:{h:[2,10],k:[2,10],l:[2,10],m:[2,10],n:[2,10],o:[2,10],p:[2,10],q:[2,10],r:[2,10],s:[2,10],t:[2,10],u:[2,10],v:[2,10],w:[2,10],j:[2,10],ae:[2,10],g:[2,10],ah:[2,10]},95:{i:[2,56],ac:[2,56],ad:[2,56],h:[2,56],k:[2,56],l:[2,56],m:[2,56],n:[2,56],o:[2,56],p:[2,56],q:[2,56],r:[2,56],s:[2,56],t:[2,56],u:[2,56],v:[2,56],w:[2,56],j:[2,56],ae:[2,56],g:[2,56],ah:[2,56]},96:{ae:[2,23],g:[2,23]},97:{ah:[2,18],g:[2,18]},98:{ah:[2,19],g:[2,19]},99:{ah:[2,21],g:[2,21]},100:{h:[1,a,106]},101:{j:[2,53],
g:[2,53]},102:{g:[1,a,93],j:[1,a,107]},103:{g:[2,12],j:[2,12]},104:{aa:[1,a,90]},105:{j:[2,51],g:[2,51]},106:{a:[2,5],e:[2,5],c:[2,5],f:[2,5],b:[2,5],d:[2,5]},107:{h:[2,8],k:[2,8],l:[2,8],m:[2,8],n:[2,8],o:[2,8],p:[2,8],q:[2,8],r:[2,8],s:[2,8],t:[2,8],u:[2,8],v:[2,8],w:[2,8],j:[2,8],ae:[2,8],g:[2,8],ah:[2,8]}}};k.parse=function(b,f){var c,g,k,h,j,n=this,y=n.lexer,o=n.table,C=o.gotos,o=o.action,r=n.productions,m=[null],A=f?"in file: "+f+" ":"",q=[0];for(y.resetInput(b);;){c=q[q.length-1];g||(g=y.lex());
h=g?o[c]&&o[c][g]:null;if(!h){var s=[];o[c]&&d(o[c],function(a,b){h=a[0];s.push(["accept","shift","reduce"][h]+":"+n.lexer.mapReverseSymbol(b))});g=A+"syntax error at line "+y.lineNumber+":\n"+y.showDebugInfo()+"\nexpect "+s.join(", ");throw Error(g);}switch(h[0]){case 1:q.push(g);m.push(y.text);q.push(h[2]);g=null;break;case 2:j=r[h[1]];c=j.symbol||j[0];var B=j.action||j[2],p=(j.rhs||j[1]).length,x=0;j=m[m.length-p];k=a;for(n.$$=j;x<p;x++)n["$"+(p-x)]=m[m.length-1-x];B&&(k=B.call(n));j=k!==a?k:n.$$;
q=q.slice(0,-2*p);m=m.slice(0,-1*p);q.push(c);m.push(j);q.push(C[q[q.length-2]][q[q.length-1]]);break;case 0:return j}}};return k}();"undefined"!==typeof n&&(n.exports=b)});
KISSY.add("xtemplate/compiler/ast",["logger-manager"],function(b,h,j,n){b={};h("logger-manager");b.ProgramNode=function(a,b,d){this.lineNumber=a;this.statements=b;this.inverse=d};b.ProgramNode.prototype.type="program";b.BlockStatement=function(a,b,d,k,g){k=k.parts;a:{var h=b.id.parts,e=h.length;if(e===k.length)for(var i=0;i<e;i++)if(h[i]!==k[i])break a}this.escape=g;this.lineNumber=a;this.func=b;this.program=d};b.BlockStatement.prototype.type="blockStatement";b.ExpressionStatement=function(a,b,d){this.lineNumber=
a;this.value=b;this.escape=d};b.ExpressionStatement.prototype.type="expressionStatement";b.ContentStatement=function(a,b){this.lineNumber=a;this.value=b};b.ContentStatement.prototype.type="contentStatement";b.UnaryExpression=function(a,b){this.value=b;this.unaryType=a};b.Function=function(a,b,d,h){this.lineNumber=a;this.id=b;this.params=d;this.hash=h};b.Function.prototype.type="function";b.UnaryExpression.prototype.type="unaryExpression";b.MultiplicativeExpression=function(a,b,d){this.op1=a;this.opType=
b;this.op2=d};b.MultiplicativeExpression.prototype.type="multiplicativeExpression";b.AdditiveExpression=function(a,b,d){this.op1=a;this.opType=b;this.op2=d};b.AdditiveExpression.prototype.type="additiveExpression";b.RelationalExpression=function(a,b,d){this.op1=a;this.opType=b;this.op2=d};b.RelationalExpression.prototype.type="relationalExpression";b.EqualityExpression=function(a,b,d){this.op1=a;this.opType=b;this.op2=d};b.EqualityExpression.prototype.type="equalityExpression";b.ConditionalAndExpression=
function(a,b){this.op1=a;this.op2=b;this.opType="&&"};b.ConditionalAndExpression.prototype.type="conditionalAndExpression";b.ConditionalOrExpression=function(a,b){this.op1=a;this.op2=b;this.opType="||"};b.ConditionalOrExpression.prototype.type="conditionalOrExpression";b.String=function(a,b){this.lineNumber=a;this.value=b};b.String.prototype.type="string";b.Number=function(a,b){this.lineNumber=a;this.value=b};b.Number.prototype.type="number";b.Hash=function(a){this.lineNumber=a;this.value={}};b.Hash.prototype.type=
"hash";b.ArrayExpression=function(a){this.list=a};b.ArrayExpression.prototype.type="arrayExpression";b.JsonExpression=function(a){this.json=a};b.JsonExpression.prototype.type="jsonExpression";b.Id=function(a,b){var d=[],h=0;this.lineNumber=a;for(var g=0,j=b.length;g<j;g++){var e=b[g];".."===e?h++:d.push(e)}this.parts=d;this.string=d.join(".");this.depth=h};b.Id.prototype.type="id";n.exports=b});
