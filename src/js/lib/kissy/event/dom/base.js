/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jul 18 14:02
*/
KISSY.add("event/dom/base","./base/dom-event,./base/object,./base/key-codes,./base/special-events,./base/mouseenter,util".split(","),function(d,b,j,i){var d=b("./base/dom-event"),j=b("./base/object"),a=b("./base/key-codes"),h=b("./base/special-events");b("./base/mouseenter");b=b("util");i.exports=b.merge({add:d.on,remove:d.detach,KeyCode:a,Special:h,Object:j},d)});
KISSY.add("event/dom/base/dom-event","event/base,./utils,dom,./special,./observable,./object,util".split(","),function(d,b,j,i){function a(e,c){var a=o[c]||{},g;if(!e.originalType&&(g=a.typeFix)){e.originalType=c;c=g}return c}function h(e,c,n){var f,b,l,n=g.merge(n),c=a(n,c);f=m.getDomEventObservablesHolder(e,1);if(!(l=f.handle)){l=f.handle=function(c){var e=c.type,a=l.currentTarget;if(!(m.triggeredEvent===e||typeof KISSY==="undefined"))if(e=m.getDomEventObservable(a,e)){c.currentTarget=a;c=new q(c);
return e.notify(c)}};l.currentTarget=e}if(!(b=f.observables))b=f.observables={};f=b[c];if(!f){f=b[c]=new m({type:c,currentTarget:e});f.setup()}f.on(n);e=null}function l(e,c,n){var n=g.merge(n),c=a(n,c),e=m.getDomEventObservablesHolder(e),f=(e||{}).observables;if(e&&f)if(c)(c=f[c])&&c.detach(n);else for(c in f)f[c].detach(n)}var d=b("event/base"),p=b("./utils"),k=b("dom"),o=b("./special"),m=b("./observable"),q=b("./object"),g=b("util"),e=d.Utils,f={on:function(a,c,f,g){a=k.query(a);e.batchForType(function(c,
a,f,g){for(var f=e.normalizeParam(a,f,g),r,a=f.type,g=c.length-1;g>=0;g--){r=c[g];h(r,a,f)}},1,a,c,f,g);return a},detach:function(a,c,f,g){a=k.query(a);e.batchForType(function(c,a,f,g){for(var f=e.normalizeParam(a,f,g),r,n,a=f.type,g=c.length-1;g>=0;g--){r=c[g];l(r,a,f);if(f.deep&&r.getElementsByTagName){n=r.getElementsByTagName("*");for(r=n.length-1;r>=0;r--)l(n[r],a,f)}}},1,a,c,f,g);return a},delegate:function(e,c,a,g,b){return f.on(e,c,{fn:g,context:b,filter:a})},undelegate:function(e,c,a,g,b){return f.detach(e,
c,{fn:g,context:b,filter:a})},fire:function(a,c,g,f){var b;if(c.isEventObject){g=c;c=c.type}g=g||{};g.synthetic=1;e.splitAndRun(c,function(c){var l,h,d;e.fillGroupsForEvent(c,g);c=g.type;if((h=o[c])&&h.typeFix)c=h.typeFix;a=k.query(a);for(h=a.length-1;h>=0;h--){l=a[h];d=m.getDomEventObservable(l,c);!f&&!d&&(d=new m({type:c,currentTarget:l}));if(d){l=d.fire(g,f);b!==false&&l!==void 0&&(b=l)}}});return b},fireHandler:function(a,c,e){return f.fire(a,c,e,1)},clone:function(a,c){var e;if(e=m.getDomEventObservablesHolder(a)){var f=
p.data(a);f&&f===p.data(c)&&p.removeData(c);g.each(e.observables,function(a,e){g.each(a.observers,function(a){h(c,e,a.config)})})}},getEventListeners:function(a,c){var e=(m.getDomEventObservablesHolder(a)||{observables:{}}).observables;return c?e[c]:e}};i.exports=f});
KISSY.add("event/dom/base/utils",["dom"],function(d,b,j,i){var a=b("dom"),h="ksEventTargetId_"+ +new Date,d=document;i.exports={simpleAdd:d&&d.addEventListener?function(a,b,h,d){a.addEventListener&&a.addEventListener(b,h,!!d)}:function(a,b,h){a.attachEvent&&a.attachEvent("on"+b,h)},simpleRemove:d&&d.removeEventListener?function(a,b,h,d){a.removeEventListener&&a.removeEventListener(b,h,!!d)}:function(a,b,h){a.detachEvent&&a.detachEvent("on"+b,h)},data:function(b,d){return a.data(b,h,d)},removeData:function(b){return a.removeData(b,
h)}}});KISSY.add("event/dom/base/special",[],function(d,b,j,i){i.exports={}});
KISSY.add("event/dom/base/observable","util,logger-manager,event/base,dom,./special,./utils,./observer,./object".split(","),function(d,b,j,i){function a(a){h.mix(this,a);this.reset()}var h=b("util");b("logger-manager");var d=b("event/base"),l=b("dom"),p=b("./special"),k=b("./utils"),o=b("./observer"),m=b("./object"),q=d.Utils;h.extend(a,d.Observable,{constructor:a,setup:function(){var a=this.type,e=p[a]||{},f=this.currentTarget,b=k.data(f).handle;(!e.setup||e.setup.call(f,a)===false)&&k.simpleAdd(f,
a,b)},reset:function(){a.superclass.reset.call(this);this.lastCount=this.delegateCount=0},notify:function(a){var e=a.target,f=a.type,b=this.currentTarget,c=this.observers,h=[],d,k,i=this.delegateCount||0,m,p;if(i&&e.nodeType)for(;e!==b;){if(e.disabled!==true||f!=="click"){var o={},j,q,s;m=[];for(k=0;k<i;k++){p=c[k];s=p.config.filter;q=s+"";j=o[q];j===void 0&&(j=o[q]=l.test(e,s));j&&m.push(p)}m.length&&h.push({currentTarget:e,currentTargetObservers:m})}e=e.parentNode||b}i<c.length&&h.push({currentTarget:b,
currentTargetObservers:c.slice(i)});k=0;for(e=h.length;!a.isPropagationStopped()&&k<e;++k){f=h[k];m=f.currentTargetObservers;f=f.currentTarget;a.currentTarget=f;for(f=0;!a.isImmediatePropagationStopped()&&f<m.length;f++){b=m[f];b=b.notify(a,this);d!==false&&b!==void 0&&(d=b)}}return d},fire:function(g,e){var g=g||{},f=""+this.type,b,c,n=p[f]||{};b=n.bubbles!==false;var d=this.currentTarget;if(!(n.fire&&n.fire.call(d,e)===false)){if(!g.isEventObject){c=g;g=new m({type:f});h.mix(g,c)}g.currentTarget=
d;g.target=g.target||d;if(!(n.preFire&&n.preFire.call(d,g,e)===false)){c=d;var k=l.getWindow(c),i=k.document,n=[],o,j="on"+f,q=0;do{n.push(c);c=c.parentNode||c.ownerDocument||c===i&&k}while(!e&&c&&b);c=n[q];do{g.currentTarget=c;if(b=a.getDomEventObservable(c,f)){b=b.notify(g);b!==void 0&&o!==false&&(o=b)}c[j]&&c[j].call(c)===false&&g.preventDefault();c=n[++q]}while(!e&&c&&!g.isPropagationStopped());if(!e&&!g.isDefaultPrevented()){try{if(d[f]&&!h.isWindow(d)){a.triggeredEvent=f;d[f]()}}catch(u){}a.triggeredEvent=
""}return o}}},on:function(a){var e=this.observers,f=p[this.type]||{},a=a instanceof o?a:new o(a);if(this.findObserver(a)===-1){if(a.config.filter){e.splice(this.delegateCount,0,a);this.delegateCount++}else if(a.config.last){e.push(a);this.lastCount++}else e.splice(e.length-this.lastCount,0,a);f.add&&f.add.call(this.currentTarget,a)}},detach:function(a){var e,f=p[this.type]||{},b="filter"in a,c=a.filter,h=a.context,d=a.fn,l=this.currentTarget,k=this.observers,a=a.groups;if(k.length){a&&(e=q.getGroupsRe(a));
var i,m,o,j,t=k.length;if(d||b||e){h=h||l;i=a=0;for(m=[];a<t;++a){o=k[a];var s=o.config;j=s.context||l;if(h!==j||d&&d!==s.fn||b&&(c&&c!==s.filter||!c&&!s.filter)||e&&!s.groups.match(e))m[i++]=o;else{s.filter&&this.delegateCount&&this.delegateCount--;s.last&&this.lastCount&&this.lastCount--;f.remove&&f.remove.call(l,o)}}this.observers=m}else this.reset();this.checkMemory()}},checkMemory:function(){var a=this.type,e,f,b=p[a]||{},c=this.currentTarget,d=k.data(c);if(d){e=d.observables;if(!this.hasObserver()){f=
d.handle;(!b.tearDown||b.tearDown.call(c,a)===false)&&k.simpleRemove(c,a,f);delete e[a]}if(h.isEmptyObject(e)){d.handle=null;k.removeData(c)}}}});a.triggeredEvent="";a.getDomEventObservable=function(a,e){var f=k.data(a),b;if(f)b=f.observables;return b?b[e]:null};a.getDomEventObservablesHolder=function(a,e){var b=k.data(a);!b&&e&&k.data(a,b={});return b};i.exports=a});
KISSY.add("event/dom/base/observer",["event/base","./special","util"],function(d,b,j,i){function a(b){a.superclass.constructor.call(this,b)}var d=b("event/base"),h=b("./special");b("util").extend(a,d.Observer,{keys:"fn,filter,data,context,originalType,groups,last".split(","),notifyInternal:function(a,b){var d,i,m=a.type,j;(j=this.config.originalType)?a.type=j:j=m;(d=h[j])&&d.handle?(d=d.handle(a,this,b))&&0<d.length&&(i=d[0]):i=this.simpleNotify(a,b);!1===i&&a.halt();a.type=m;return i}});i.exports=
a});
KISSY.add("event/dom/base/object",["event/base","util"],function(d,b,j,i){function a(){return o}function h(){return m}function l(e){var b=e.type,d="function"===typeof e.stopPropagation||"boolean"===typeof e.cancelBubble;l.superclass.constructor.call(this);this.originalEvent=e;var c=h;"defaultPrevented"in e?c=e.defaultPrevented?a:h:"getPreventDefault"in e?c=e.getPreventDefault()?a:h:"returnValue"in e&&(c=e.returnValue===m?a:h);this.isDefaultPrevented=c;var n=[],i,j=q.concat();p.each(g,function(a){b.match(a.reg)&&(j=
j.concat(a.props),a.fix&&n.push(a.fix))});for(c=j.length;c;)i=j[--c],this[i]=e[i];!this.target&&d&&(this.target=e.srcElement||k);this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode);for(c=n.length;c;)d=n[--c],d(this,e);this.timeStamp=e.timeStamp||p.now()}var d=b("event/base"),p=b("util"),k=document,o=!0,m=!1,q="altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,shiftKey,target,timeStamp,view,type".split(","),g=[{reg:/^key/,props:["char","charCode","key","keyCode",
"which"],fix:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);void 0===a.metaKey&&(a.metaKey=a.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(a,b){var d,c,h,g=b.wheelDelta,i=b.axis,l=b.wheelDeltaY,j=b.wheelDeltaX,k=b.detail;g&&(h=g/120);k&&(h=0-(0===k%3?k/3:k));void 0!==i&&(i===a.HORIZONTAL_AXIS?
(c=0,d=0-h):i===a.VERTICAL_AXIS&&(d=0,c=h));void 0!==l&&(c=l/120);void 0!==j&&(d=-1*j/120);!d&&!c&&(c=h);void 0!==d&&(a.deltaX=d);void 0!==c&&(a.deltaY=c);void 0!==h&&(a.delta=h)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:"buttons,clientX,clientY,button,offsetX,relatedTarget,which,fromElement,toElement,offsetY,pageX,pageY,screenX,screenY".split(","),fix:function(a,b){var d,c,h=a.target,g=b.button;h&&null==a.pageX&&null!=b.clientX&&(d=h.ownerDocument||k,c=d.documentElement,
d=d.body,a.pageX=b.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0));!a.which&&void 0!==g&&(a.which=g&1?1:g&2?3:g&4?2:0);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===h?a.toElement:a.fromElement);return a}}];p.extend(l,d.Object,{constructor:l,preventDefault:function(){var a=this.originalEvent;a.preventDefault?a.preventDefault():a.returnValue=m;l.superclass.preventDefault.call(this)},
stopPropagation:function(){var a=this.originalEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=o;l.superclass.stopPropagation.call(this)}});i.exports=l});
KISSY.add("event/dom/base/key-codes",[],function(d,b,j,i){var a={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,
Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,
WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(b){var d=b.keyCode;if(b.altKey&&!b.ctrlKey||b.metaKey||d>=a.F1&&d<=a.F12)return!1;switch(d){case a.ALT:case a.CAPS_LOCK:case a.CONTEXT_MENU:case a.CTRL:case a.DOWN:case a.END:case a.ESC:case a.HOME:case a.INSERT:case a.LEFT:case a.MAC_FF_META:case a.META:case a.NUMLOCK:case a.NUM_CENTER:case a.PAGE_DOWN:case a.PAGE_UP:case a.PAUSE:case a.PRINT_SCREEN:case a.RIGHT:case a.SHIFT:case a.UP:case a.WIN_KEY:case a.WIN_KEY_RIGHT:return!1;
default:return!0}},isCharacterKey:function(b){if(b>=a.ZERO&&b<=a.NINE||b>=a.NUM_ZERO&&b<=a.NUM_MULTIPLY||b>=a.A&&b<=a.Z||-1!==window.navigation.userAgent.indexOf("WebKit")&&0===b)return!0;switch(b){case a.SPACE:case a.QUESTION_MARK:case a.NUM_PLUS:case a.NUM_MINUS:case a.NUM_PERIOD:case a.NUM_DIVISION:case a.SEMICOLON:case a.DASH:case a.EQUALS:case a.COMMA:case a.PERIOD:case a.SLASH:case a.APOSTROPHE:case a.SINGLE_QUOTE:case a.OPEN_SQUARE_BRACKET:case a.BACKSLASH:case a.CLOSE_SQUARE_BRACKET:return!0;
default:return!1}}};i.exports=a});
KISSY.add("event/dom/base/special-events",["./dom-event","./special","util","ua"],function(d,b,j,i){var a=b("./dom-event"),d=b("./special"),j=b("util"),b=b("ua").gecko?"DOMMouseScroll":"mousewheel";i.exports=j.mix(d,{mousewheel:{typeFix:b},load:{bubbles:!1},click:{fire:function(a){if(!a&&"checkbox"===""+this.type&&this.click&&"input"===this.nodeName.toLowerCase())return this.click(),!1}},focus:{bubbles:!1,preFire:function(b,d){if(!d)return a.fire(this,"focusin")},fire:function(a){if(!a&&this.ownerDocument&&
this!==this.ownerDocument.activeElement&&this.focus)return this.focus(),!1}},blur:{bubbles:!1,preFire:function(b,d){if(!d)return a.fire(this,"focusout")},fire:function(a){if(!a&&this.ownerDocument&&this===this.ownerDocument.activeElement&&this.blur)return this.blur(),!1}}})});
KISSY.add("event/dom/base/mouseenter",["dom","./special","util"],function(d,b){var j=b("dom"),i=b("./special");b("util").each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(a){i[a.name]={typeFix:a.fix,handle:function(a,b,d){var i=a.currentTarget,o=a.relatedTarget;if(!o||o!==i&&!j.contains(i,o))return[b.simpleNotify(a,d)]}}})});
