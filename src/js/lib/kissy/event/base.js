/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jul 18 14:01
*/
KISSY.add("event/base",["./base/utils","./base/observer","./base/observable","./base/object"],function(g,f,j,i){var g=f("./base/utils"),j=f("./base/observer"),e=f("./base/observable");i.exports={Utils:g,Object:f("./base/object"),Observer:j,Observable:e}});
KISSY.add("event/base/utils",["util"],function(g,f,j,i){function e(a){if(0>a.indexOf("."))return[a,""];var b=a.match(/([^.]+)?(\..+)?$/),a=[b[1]];(b=b[2])?(b=b.split(".").sort(),a.push(b.join("."))):a.push("");return a}var h,d,c=f("util");i.exports={splitAndRun:h=function(a,b){c.isArray(a)?c.each(a,b):(a=c.trim(a),-1===a.indexOf(" ")?b(a):c.each(a.split(/\s+/),b))},normalizeParam:function(a,b,d){var k=b||{},k="function"===typeof b?{fn:b,context:d}:c.merge(k),b=e(a),a=b[0];k.groups=b[1];k.type=a;return k},
batchForType:function(a,b){var d=c.makeArray(arguments),e=d[2+b];e&&c.isObject(e)?c.each(e,function(c,e){var f=[].concat(d);f.splice(0,2);f[b]=e;f[b+1]=c;a.apply(null,f)}):h(e,function(c){var e=[].concat(d);e.splice(0,2);e[b]=c;a.apply(null,e)})},fillGroupsForEvent:function(a,b){var c=e(a),f=c[1];f&&(f=d(f),b._ksGroups=f);b.type=c[0]},getGroupsRe:d=function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}});
KISSY.add("event/base/observer",["util"],function(g,f,j,i){function e(d){this.config=d||{}}var h=f("util");e.prototype={constructor:e,equals:function(d){var c=this;return!!h.reduce(c.keys,function(a,b){return a&&c.config[b]===d.config[b]},1)},simpleNotify:function(d,c){var a,b=this.config;a=b.fn.call(b.context||c.currentTarget,d,b.data);b.once&&c.removeObserver(this);return a},notifyInternal:function(d,c){var a=this.simpleNotify(d,c);!1===a&&d.halt();return a},notify:function(d,c){var a=this.config,
b=d._ksGroups;return b&&(!a.groups||!a.groups.match(b))?void 0:this.notifyInternal(d,c)}};i.exports=e});
KISSY.add("event/base/observable",["util"],function(g,f,j,i){function e(d){this.currentTarget=null;h.mix(this,d);this.reset()}var h=f("util");e.prototype={constructor:e,hasObserver:function(){return!!this.observers.length},reset:function(){this.observers=[]},removeObserver:function(d){var c,a=this.observers,b=a.length;for(c=0;c<b;c++)if(a[c]===d){a.splice(c,1);break}this.checkMemory()},checkMemory:function(){},findObserver:function(d){var c=this.observers,a;for(a=c.length-1;0<=a;--a)if(d.equals(c[a]))return a;
return-1}};i.exports=e});
KISSY.add("event/base/object",["util"],function(g,f,j,i){function e(){this.timeStamp=c.now();this.currentTarget=this.target=d}var g=function(){return!1},h=function(){return!0},d,c=f("util");e.prototype={isEventObject:1,constructor:e,isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){this.isDefaultPrevented=h},stopPropagation:function(){this.isPropagationStopped=h},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h;this.stopPropagation()},
halt:function(a){a?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}};i.exports=e});
